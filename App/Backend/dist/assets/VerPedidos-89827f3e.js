import{r as a,u as T,j as e,q as F,D as R}from"./index-d654d3f8.js";import{l as E,u as O,g as C}from"./index-2c7dcbac.js";import{f as b}from"./functions-63fd6aa2.js";import{c as U}from"./xmark-solid-4f97102d.js";import{F as J}from"./FormVacio-0ff088d2.js";import{M as W}from"./Modal-75e303a2.js";import{L as K}from"./LoaderComponent-d1f3c2e2.js";const L="data:image/webp;base64,UklGRrwDAABXRUJQVlA4WAoAAAAQAAAAPwAAPwAAQUxQSOICAAABoG3btmm7GrFt27adZ9u2bdu2bdu2rWvf2MnR6g99nr3mmOsHImICRDF/n21334aFvb27tXc+cT9el9sI+VbnuI61+Au+/2jmUpojsHootTOF/4Tl3ws5UuodzA8m1siXKFG+GpMemvC2pBO5/4fxZCkJsfQpA/7L6UD8e+D3dcRn3Q+E2/H0ZoFf5BPf+V8QpqkViqB/MonFzP9QeH6t7QDwraxYLf8dALYoZY+k8WJ5EkVm1RkNAK+S2kryHwCM0LlFo8T6GLqukjySCtkrQpHJNCoDwE+i+DMAVNRoTwc0DlJbjYG0TGM5DdAYRVM0ptAojX60XGMF9dVoRwc0DlFbjUr0k8YvVEEjcRQAFLZXDACiEmvITRptbyxdF9UR9CqprST/02Cd7BEAMMHWZAAIz6Ijm+l7OTsVftBGUS4QBgD/ZLaR5V8ACMuvJVMILwv4K/gSPFHUE9wmfKjvp+FH8M34epLtFQFnyoRS9iyM/2cVF4u9NgCPJtfKnzhx/lpTHsP8qqi4WfgXk/+fC4mrKR/ZeZRSHE3a5T4sPxua0oXE4z9D8fO4xFqxuv4L5X+7xlTJdh7Re/cXdK2eM0XcuCly1ei64IEXDXAuq0KLDzB75zqkEZ9pOp73THjfzFaMaTD/WJ5LrOZeGWYApsSwEmcDjN7GTGI9yxYT1sexEPcwjC+ri2rNnw04HNdXjPUw7kkuykm3GbA1pp95YG+oODjCI8z20Rwc2V6c7BhJaBJS7o/kdRRHW3v0OW8IMa+Dh4qzIwlXYkbXFbxDHN5F6BBNqjf0MqlLyX+hVylMU8E1xenahImGpO9pgzi+jT4koyEA8COTa1nDAGAwPaNl4vwqeiEiZQHAy+VeHg8ASovMo3MSwAs0W+QJdQhCF3ooaT0AXpogpPUAeGkbAcB9CeRDAGg4nhYEYxGN3UpdgtGdNt2i6sGoSTd+o+zByEm/vqWUwUhNb8IobjDiURhWUDggtAAAALAGAJ0BKkAAQAA/EXKsUT+nJCK3+AgD8CIJagDG7IgZ4B3iBSRMuExX/jEAhjFPPuzrxxDZanXqbOaRzteAAP7vhH/9Uz/8nD//p0mcwPwO2X+trBvwul76L52POUcx9/a6D4hpsYANP6DC3DWz23vSyJt9vIPePqOoD0nea5xWwQvbLUMoSMd4oAVC3J6eVO7N13ybQ4UfkzaflWvHf3cVz38s9/5Vt//LjgDPgMgYDGMcAA==",V="data:image/webp;base64,UklGRrQCAABXRUJQVlA4WAoAAAAQAAAAHwAAHwAAQUxQSMoBAAABkHNt2yHJyu/WrG0boW3btm17N7IyW5Ft22Zk266qJ6ivsBExAfgtM+PY69+/Xx+bUZpQa56Xz3M1giVfKenWnE516nSae1vSiuQB0p2TTlTEs9JJ6WxaX0mn9W94BJ+Rkf90KuFnoay2BGxvaYGPMpYmYSzerFlxA5NllfLaqysxV90bknSjjit2Tbs9CjlqCDDYlt6/l+xBAE3kFDCN0eMIUM3SiRJQ4qSsKkDkmUaatmsJwCmdTQJIOq+TAMu11fRAA4BsjqpjrCk7CzBQ90zv1AKoKDthSnJUEWit16a3agmUlVKaUktlgLZ6ZbqnQUDaP2pjaqc/aYChumPaopUAW/Qwmyv7Y20CWKNNpqF6GQeKftXT3vny9X6mL4WB+CsNNuX+q64AtT/L+Kk2QHf9y21ijd7kAMi3+rP0eXVegKyvtAbPXO90Mgl3Ik+eBO6kk3qXy4vGttZFXD7Xym6C37HSZH9TpLH4Xyynk582tlYRMHFIvyp6lfmhE0lBSHtb7wqZ8r/W/QwEz/9G99K70tzS+8KEWfaHDsYhtlt/ahBuW0crYZGcLoQ9XRoxUppO6JENsixtjIRH0jHpTDL+Z+br1zMTEFZQOCDEAAAAUAUAnQEqIAAgAD6FNpRIP6MiITfoA/AQiWwAtReAjALsA9ADypP2Z+Az9wAbKgeHsXSAAP7jdwuEmzw6ehaD+WQfYVLrgR++n657JuycxzziP9VSa5PNkzeNMwrFZsak1Z5exhINY/X8zZJdcsmgb9j6jOJhJi4n+8ub5+NkJS1gepThG53pAd2fOUZmOr2qvkFk9/8xp7bCI3g0OlEB5XuJwtz9lHHDf9Pfoe//ycMcB8R0nmLqw2uU0GweXUEtZ8vgAA==",q="data:image/webp;base64,UklGRg4CAABXRUJQVlA4WAoAAAAQAAAAHwAAHwAAQUxQSG0BAAABkKP9/9o23ymc1TgFynCAbrR2C46MV2DOCcyls4SzlWFjnPr4r6f+q/ApSH/9fYOImAA5do9WTr+E4ZeTyki3PGaLAY5BtT9J+7oBnheWxsaWii+AcLfVqf8hmK1zij2/beAg7XD1E1Qzcs7ehTeXYzJvsONKPGF5n4toO6JxXR5vWA5a/1uHMcW2ZR00ATuSsoaa4vd/XnPQPWyfVKSecfjGpEvOUFF3wKZ8aRvTNQrn/F2AoSrP5E8vKJ9SaEaJ468sNmOJz5axZkzQsIwniPw+GDVJ4yuLTs+jWI9a4vMJRaf8wOD/t1uiyhxVeO6U+CWlETjv7yIMdgds+9ul3qkqJusrH1CW+kPu+npAo0fSLkz4mYYtSWo9wN70cStkr+U/pV/zYyHZlOV1WtGXX8PdnFv+Aby+pPj0PpidC3EXdwPYS8m1ddsCL0vL4+PLpVeA3WpRwt6ywbFe7pHHrqHS8WdrPx8XBzvlCABWUDggegAAAJADAJ0BKiAAIAA/AXaxUisnJKKoCqlgIAlsAK4qId3iUCEoNAAA/s6Ay4NDnqxazx4S2KPWkQZtuQ/fV3JVcZu+wDV4lZUPtHv2aRyiwSv+l3Hoc6CEyY/KQQkHHaefu49c431eW7ArJZYLCxBPn2O0QuZpfYvzwAAA",H="data:image/webp;base64,UklGRtgDAABXRUJQVlA4WAoAAAAQAAAAPwAAPwAAQUxQSGoCAAABkINt2yE732FwFNu2nXQ2Ktu2bdtmlSuVbds2Nyc2F0+x//zzz0yXKiImQP4Tjchf3vmCkU5EbseNR2MdqIw7GzqQN+COdg5I20uPnf4BDMlnmcaAC7eh/a+b1/iRyWvM9sbbx0of8COTVsbt7z7Z9q2OMdFOlHFvgblaizDazQEZAfzOprPBzBAn4t4C83SKPjdxKa0TMgz4nU1DInPls51NbNuIewss0HGlDRkK/M7updTJwEL39UirORb4nT2szlPsfxxiyv6+sOeYDOVxib+aiPiMUMDAPCO8yizS/KOBP5PEYKbDfhMciRaJSGs/Rty5GGCWeDjmNBBq5iHJngw8USSktYx3ldQEEJF8t9A8k8FNqSzWoD3RC8v1Rnsh23G/1d+diV6wW33FjbfPDw1KaySu597H72+vr+tIhh2oP3Yy0NSH+nguc9kfoznZVu8g1slFTUVfRLuljZoBdB/GG+oJcKFpzhITfwG+OK2oW4B/TtmcdQ4DTDJ0E9gTKyJS7TfQTqsmEGwqIhK5EXgXZaPN6UuXLl26AQRyiHIB8PGSbjKwVZSJX4C7ly5d0cgbwPqtqGthsr1K7qCrqIzmB4saRlpYPND5qIjcqfErXjXCyGJV1BuNQD+FRBQqX758+QpvgbmKbG+BueV1RwA/iyiGAL+rlQ/PIjanASzLLJG1HwE/s4pu3FvgTfMoSTM1CKwXs2l8AIEXnwmfIPo9CP/2zA/wNachqfILzT1RNmRDmNrfWIxXeG4RWhUrdiOnBy3e1RIHUw27BnzfVlVMltzyCbg3MUkcji+SPVpMR2Ytkkb+MwVWUDggSAEAAHAJAJ0BKkAAQAA+wVKgSyelIyKx9V2w8BgJbADMw/d7txxPS8S/K/1AbaLzAfqP+zvvaegDzmeoA9ADpSPKqBtu5NZIR2l54owkmh+gPU1y4LZrGAD+eD//zq/f4ljujrikZPC+6IuJxYWGpqpwEZVaG73B/4sE33LWereiulsJYSbnsmxnjJ5Mx1/cTn0esz73iwLrNbeWHHXZobTHnOyRtc5rYr8a+tP//BzHiR5tQw3RameY7xM3WdrKMVKF/ANnw+qhXPVwIMkqCNpERSZ9QEFO308hOvgilTV3QiutzmQHGtGXX8TMmeu48X4EEd6bMbyQf9h6kXKwZWOnpmNeArmCAU5s7BP58suMNp1ekdF7Dy2xzK14YUB8BXyZn/yz3SmujvXdzoBaZgT7zl1LeGTXuXjFBsdnreMH/ffYODNc2bEAAAA=",Z="data:image/webp;base64,UklGRlIDAABXRUJQVlA4WAoAAAAQAAAAPwAAPwAAQUxQSFMCAAABoHRt2yFJetq2bdtbo9S2bWNtu/+CbZvDnY3UsF1W1L34vsiMiByvImIC9O9qiz2x2O4WydPnaBGAc21oqWSoMOsT4vx6dZWgNd78ggTfHmkZpIEXirF/smDBJxYovjAwIBVmfYLduTa0lKQ+R4sM4OvVVQIw+iX2l7uby7X57pcWeJHh3y9YP1lQSXFXWvCJhZ/9A3CuDS2lxPscLQIIRnN53Dw48vxPotn5TDyOpniX/nM4za3ZK7yPeNY7F2Ju5wlevRAQcsv0ITLSo7IPAaa5mfK1ACgnKe2XUJrlEMAhSSoP5Pv3CqgpKQKZLSTNAHhY1qgNvPAvBDSxcb+UeucCoXoymwM/+vcZ0EPSYoAldUNAbm9ZewGf+ncDmCSp1D0g8z2AGbJPBa76txvYJEktMrEflOtWYKd/M4DrhhbbHpR1uwlM968zkFfVKHXbCNeTa7V8oJPhdTTF0LfAeEMtMiGvr9wnAl/LDyKWncBzi0aGQimK8wmwLQg9AQZZEhwE0N2XyEiLbgIfl0us3MfAdVnkc3cH2JnYbqCkVzB0CnDSEkl3gFMKSK0fgfzU+IbmApE6QdGAQiBnRDwjcoGCAQqMFpQAxRtK2UptLAZKFihAWugAnK5h1DgD4CxSoDTPAYilSxkxAGe+AqbhLzBPnMB8MUIJpcVwjaZ4o2YfGPYPmslMi0VT3KLEGfFI5XcW2gp3lZc1CpEgSd0/MD7oLldcjZSoW2Skdyq9/IcflpeWN8n5/7BMkvztxWQ73+FVcr1qp6Zn3yXPu/Pt9M8fAFZQOCDYAAAAEAgAnQEqQABAAD8FbKtRK6YkIr30SAFwIIlqAMy85Hhr1AbYDn2dMz3n3/cZOer+guizpKLzBg3hTJvUD1wq18MjC9f5rIhsdAD+4uAxSF9zd6EVVVaOu1fxi2K4lr+au+rhSe/UFHY5cCqt9cMFd1NjfSQpXM9D5akU9T5ApfNt7S0UpAgq9SfxUaZyAXX7OVJCDLCPd+BwLdJc+VZ7+o+K6dDfwzObnvOvJDtPTnsBt8WJyFaOmMezeyDippP8+fy+M/8P4x14raPWhwCWBGyYl/dISAAA",Y=E("/");function $({modalPedido:_,closeModal:A}){const d=_.pedido,m=a.useId(),[n,p]=a.useState(d.estado_pedido),{auth:l}=T();async function w(i){l.data.rol!=="Guest"&&i.target.value!=d.estado__pedido&&(await O({id:d.id,state:i.target.value})).status==200&&(p(i.target.value),d.estado_pedido=i.target.value,Y.emit("orderUpdated",d))}return e.jsxs("div",{className:"dashboard__modal",children:[e.jsxs("div",{className:"verpedido__modal-top dashboard__modal-top",children:[e.jsx("p",{className:"verpedido__top-id dashboard__modal-top-id ",children:`Pedido nº ${d.id}`}),e.jsx("div",{className:"verpedido__top-cruz dashboard__top-cruz",children:e.jsx("img",{src:U,alt:"Cerrar",onClick:A})})]}),e.jsx("div",{className:"verpedido__estado dashboard__estado-modal",children:e.jsxs("select",{name:m,id:m,defaultValue:n,value:n==d.estado__pedido?n:d.estado__pedido,onChange:w,disabled:l.data.rol=="Guest",children:[e.jsx("option",{value:"A Confirmar",children:"A Confirmar"}),e.jsx("option",{value:"Confirmado",children:"Confirmado"}),e.jsx("option",{value:"En Preparacion",children:"En Preparacion"}),e.jsx("option",{value:"Listo",children:"Listo"}),e.jsx("option",{value:"En Reparto",children:"En Reparto"}),e.jsx("option",{value:"Entregado",children:"Entregado"}),e.jsx("option",{value:"Cancelado",children:"Cancelado"})]})}),e.jsxs("div",{className:"verpedido__infouser",children:[e.jsxs("div",{className:"verpedido__dato dashboard__dato",children:[e.jsx("img",{src:L,alt:"Nombre Completo",className:"dashboard-icon verpedido__dato-icon"}),e.jsx("div",{children:d.nombre_completo})]}),e.jsxs("div",{className:"verpedido__dato dashboard__dato",children:[e.jsx("img",{src:V,alt:"Direccion",className:"dashboard-icon verpedido__dato-icon"}),e.jsx("div",{children:d.direccion})]}),e.jsxs("div",{className:"verpedido__dato dashboard__dato",children:[e.jsx("img",{src:q,alt:"Hora",className:"dashboard-icon verpedido__dato-icon"}),e.jsx("div",{children:d.hora})]})]}),e.jsx("div",{className:"verpedido__detalle-wrapper",children:e.jsxs("div",{className:"verpedido__detalle",children:[e.jsxs("div",{className:"verpedido__header",children:[e.jsx("div",{children:"Nombre"}),e.jsx("div",{children:"Cantidad"}),e.jsx("div",{children:"Subtotal"})]}),e.jsxs("div",{className:"verpedido__body",children:[d.descr_pedidos.split(",").map((i,c)=>e.jsx("div",{className:"verpedido__row",children:i.split("-").map((r,v)=>e.jsx("div",{children:v==2?"$"+r:r},v))},c)),e.jsxs("div",{className:"verpedido__row verpedido__row-total",children:[e.jsx("div",{className:"verpedido__total-title",children:"TOTAL"}),e.jsx("div",{className:"verpedido__total",children:"$"+d.total})]})]})]})}),e.jsxs("div",{className:"verpedido__nota",children:[e.jsx("label",{htmlFor:"",children:"Nota: "}),e.jsx("p",{children:d.nota||"-"})]}),e.jsxs("div",{className:"verpedido__infoentrega",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"verpedido__entrega",children:[e.jsx("img",{src:H,className:"dashboard-icon verpedido__dato-icon",alt:"Tipo de entrega"}),e.jsx("div",{children:d.tipoentrega})]}),e.jsxs("div",{className:"verpedido__pago",children:[e.jsx("img",{src:Z,className:"dashboard-icon verpedido__dato-icon",alt:"Tipo de pago"}),e.jsx("div",{children:d.tipopago})]})]}),e.jsx("div",{className:"verpedido__monto",children:`Paga con $${d.monto_cambio||0}`})]})]})}const j=E("/");function ee(){const _=a.useId(),A=a.useId(),d=a.useId(),m={timeZone:"America/Argentina/Buenos_Aires"},n=new Date().toLocaleString("en-US",m).split(" ")[0],p=new Date(n),l=p.toISOString().split("T")[0],i=new Date(p.getTime()-24*60*60*1e3).toISOString().split("T")[0],[c,r]=a.useState([]),[v,S]=a.useState(!0),[u,f]=a.useState(l),[M,I]=a.useState(window.innerWidth>768),[t,y]=a.useState({entregado:!0,cancelado:!0}),[h,x]=a.useState({isSubmitted:!1,isGood:!1,msg:""}),[D,N]=a.useState({isSubmitted:!1,pedido:{}});a.useEffect(()=>{document.title="Alares | Dashboard "},[]),a.useEffect(()=>{async function s(){try{const o=await C({date:u});S(!1),r(o.data.data)}catch(o){S(!1),x({isSubmitted:!0,isGood:!1,msg:o.message})}}s()},[u]),a.useEffect(()=>{const s=()=>{I(window.innerWidth>768)};return window.addEventListener("resize",s),()=>{window.removeEventListener("resize",s)}},[]),a.useEffect(()=>(j.on("connect",()=>{j.on("adminOrder",s=>{r(G=>[s,...G]);const o=document.getElementById("verpedidos__body"),P=document.getElementById(`pedido-${s.id}`);o.classList.add("animate-slide-down"),P.classList.add("animate-fade-in"),setTimeout(()=>{o.classList.remove("animate-slide-down"),P.classList.remove("animate-fade-in")},1e3)})}),()=>{j.off("adminOrder")}),[]);async function z(){try{const s=await C({date:u});r(g(s.data.data))}catch(s){x({isSubmitted:!0,isGood:!1,msg:s.message})}}function Q(s){R.test(s.target.value)&&f(s.target.value)}function g(s){if(!t.entregado&&!t.cancelado)return s;if(t.entregado&&t.cancelado)return s.filter(o=>{if(o.estado_pedido!="Cancelado"&&o.estado_pedido!="Entregado")return o});if(t.entregado)return s.filter(o=>o.estado_pedido!="Entregado");if(t.cancelado)return s.filter(o=>o.estado_pedido!="Cancelado")}function B(s){N({isSubmitted:!0,pedido:s}),document.body.classList.add("disable-scroll")}function k(){N({isSubmitted:!1,pedido:{}}),document.body.classList.remove("disable-scroll"),z()}function X(){x({isSubmitted:!1,isGood:!1,msg:""})}return e.jsxs("div",{className:"veritems verpedidos",children:[e.jsxs("div",{className:"verpedidos__fechas veritems__fechas",children:[e.jsx("div",{className:"verpedidos__fecha-ayer button veritems__fechas-button",onClick:()=>f(i),children:"Ayer"}),e.jsx("input",{id:_,className:"verpedidos__fecha-input",type:"date",onChange:Q,value:u}),e.jsx("div",{className:"verpedidos__fecha-hoy button veritems__fechas-button",onClick:()=>f(l),children:"Hoy"})]}),e.jsxs("div",{className:"veritems__filters verpedidos__filters",children:[e.jsxs("div",{className:"veritems__filter verpedidos__filter",children:[e.jsx("img",{src:b("Entregado"),alt:"Entregado",className:"verpedidos__icon"}),e.jsx("label",{htmlFor:d,children:t.entregado?"Mostrar entregados":"Ocultar entregados"}),e.jsx("input",{id:d,type:"checkbox",onClick:()=>y({entregado:!t.entregado,cancelado:t.cancelado})})]}),e.jsxs("div",{className:"veritems__filter verpedidos__filter",children:[e.jsx("img",{src:b("Cancelado"),alt:"Cancelado",className:"verpedidos__icon"}),e.jsx("label",{htmlFor:A,children:t.cancelado?"Mostrar cancelados":"Ocultar cancelados"}),e.jsx("input",{id:A,type:"checkbox",onClick:()=>y({entregado:t.entregado,cancelado:!t.cancelado})})]})]}),e.jsxs("div",{className:"verpedidos__pedidos veritems__lista",children:[e.jsxs("div",{className:"verpedidos__header veritems__header",children:[e.jsx("div",{className:"veritems__header-column verpedidos__header-column",children:"Hora"}),e.jsx("div",{className:" veritems__header-column  verpedidos__header-column",children:"Cliente"}),e.jsx("div",{className:"veritems__header-column  verpedidos__header-column",children:"Estado"})]}),e.jsx("div",{className:"veritems__body verpedidos__body",id:"verpedidos__body",children:v?e.jsx(K,{size:"small",color:"blue"}):g(c).length<=0?e.jsx(J,{msg:"No hay pedidos el día de hoy",msgButton:":("}):g(c).map(s=>e.jsxs("div",{className:"veritems__row verpedidos__body-row",id:`pedido-${s.id}`,onClick:()=>B(s),children:[e.jsx("div",{className:"veritems__dato verpedidos__dato ver-lista__dato",children:s.hora}),e.jsx("div",{className:"veritems__dato verpedidos__dato ver-lista__dato",children:s.nombre_completo}),e.jsxs("div",{className:"veritems__dato verpedidos__dato ver-lista__dato",children:[e.jsx("img",{src:b(s.estado_pedido),alt:s.estado_pedido}),M&&e.jsx("p",{children:s.estado_pedido})]})]},s.id))})]}),D.isSubmitted&&e.jsx(F,{comp:"verpedidos",children:e.jsx($,{modalPedido:D,closeModal:k})}),h.isSubmitted&&e.jsx(W,{isSubmitted:h.isSubmitted,isGoodStatus:h.isGood,msg:h.msg,handleSubmit:X})]})}const ne=Object.freeze(Object.defineProperty({__proto__:null,default:ee},Symbol.toStringTag,{value:"Module"}));export{ee as V,ne as a,V as l,q as r,L as u};
