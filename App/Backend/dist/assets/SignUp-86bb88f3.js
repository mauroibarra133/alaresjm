import{b as G,c as P,r,j as e,P as R,l as A,i as S,E as F,f as M,g as O,N as E,k as T,m as U}from"./index-d654d3f8.js";import{M as k}from"./Modal-75e303a2.js";function Y(){var c,p,u,g,h,x,j,_,N,b;const{register:l,handleSubmit:w,formState:v,reset:y}=G({mode:"onBlur"}),{errors:s}=v,L=P(),t=r.useId(),n=r.useId(),d=r.useId(),m=r.useId(),[a,i]=r.useState({isSubmitted:!1,isGood:!1,msg:""});r.useEffect(()=>{document.title="Alares | Sign Up "},[]);function I(){i({isSubmitted:!1,isGood:!1,msg:""}),a.isGood&&L("/login")}async function q(f){try{await T(f.regEmail);const o=await U(f);i({isSubmitted:!0,isGood:!0,msg:o.data.msg}),y()}catch(o){i({isSubmitted:!0,isGood:!1,msg:o.message})}}return e.jsxs("div",{className:"login__container",children:[e.jsx(R,{pathPrev:"Home",pathActual:"Login",goTo:"Home"}),e.jsxs("div",{className:"login__box-container",children:[e.jsxs("div",{className:"login__box",children:[e.jsx("img",{src:A,alt:"Alares Logo",className:"login__logo"}),e.jsxs("div",{className:"login__square",children:[e.jsxs("div",{className:"login__titles",children:[e.jsx("p",{className:"login__title",children:"SIGNUP"}),e.jsx("p",{className:"login__title",children:"LOGIN"})]}),e.jsxs("form",{className:"login__form",onSubmit:w(q),children:[e.jsxs("div",{className:"login__wrapper",children:[e.jsxs("div",{className:"login__input-wrapper",children:[e.jsx("label",{htmlFor:d,children:"Nombre"}),e.jsx("input",{type:"text",id:d,...l("regName",{pattern:S,required:!0,maxLength:50,minLength:2}),placeholder:"nombre"})]}),((c=s.regName)==null?void 0:c.type)==="required"&&e.jsx("p",{role:"alert",className:"form-error",children:"Nombre es requerido"}),((p=s.regName)==null?void 0:p.type)==="pattern"&&e.jsx("p",{role:"alert",className:"form-error",children:"Solo deben incluir letras"})]}),e.jsxs("div",{className:"login__wrapper",children:[e.jsxs("div",{className:"login__input-wrapper",children:[e.jsx("label",{htmlFor:m,children:"Apellido"}),e.jsx("input",{type:"text",id:m,...l("regSurname",{pattern:S,required:!0,maxLength:50,minLength:2}),placeholder:"apellido"})]}),((u=s.regSurname)==null?void 0:u.type)==="required"&&e.jsx("p",{role:"alert",className:"form-error",children:"El apellido es requerido"}),((g=s.regSurname)==null?void 0:g.type)==="pattern"&&e.jsx("p",{role:"alert",className:"form-error",children:"Solo deben incluir letras"})]}),e.jsxs("div",{className:"login__wrapper",children:[e.jsxs("div",{className:"login__input-wrapper",children:[e.jsx("label",{htmlFor:t,children:"Email"}),e.jsx("input",{type:"text",id:t,...l("regEmail",{pattern:F,required:!0,minLength:8}),placeholder:"email"})]}),((h=s.regEmail)==null?void 0:h.type)==="required"&&e.jsx("p",{role:"alert",className:"form-error",children:"El mail es requerido"}),((x=s.regEmail)==null?void 0:x.type)==="minLength"&&e.jsx("p",{role:"alert",className:"form-error",children:"El mail debe ser mas largo"}),((j=s.regEmail)==null?void 0:j.type)==="pattern"&&e.jsx("p",{role:"alert",className:"form-error",children:"Formato de mail incorrecto"})]}),e.jsxs("div",{className:"login__wrapper ",children:[e.jsxs("div",{className:"login__input-wrapper",children:[e.jsx("label",{htmlFor:n,children:"Password"}),e.jsx("input",{type:"password",id:n,...l("regPassword",{minLength:8,required:!0,pattern:M}),placeholder:"password"})]}),((_=s.regPassword)==null?void 0:_.type)==="required"&&e.jsx("p",{role:"alert",className:"form-error",children:"La contraseña es requerida"}),((N=s.regPassword)==null?void 0:N.type)==="pattern"&&e.jsxs("p",{role:"alert",className:"form-error",children:["La contraseña debe contener al menos una letra mayúscula, una letra minúscula, un número y un carácter especial"," "]}),((b=s.regPassword)==null?void 0:b.type)==="minLength"&&e.jsxs("p",{role:"alert",className:"form-error",children:["La contraseña debe ser de al menos 8 caracteres"," "]})]}),e.jsx("div",{className:"login__button",children:e.jsx("button",{type:"submit",className:"button",children:"REGISTRARSE"})})]}),e.jsx("img",{src:O,alt:"Foto de comida",className:"login__decoration"})]})]}),e.jsxs("div",{className:"login__msgs",children:[e.jsx(E,{to:"/login",children:e.jsxs("p",{className:"login__msg",children:["Ya tienes una cuenta? ",e.jsx("span",{children:"Inicia Sesion"})]})}),e.jsx(E,{to:"/forgot-password",children:e.jsxs("p",{className:"login__msg",children:["Olvidaste tu contraseña? ",e.jsx("span",{children:"Reestablecer"})]})})]})]}),a.isSubmitted&&e.jsx(k,{isSubmitted:a.isSubmitted,isGoodStatus:a.isGood,msg:a.msg,handleSubmit:I})]})}export{Y as default};
