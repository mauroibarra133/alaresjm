import{r as a,u as D,j as e,q as H,D as ce,b as ne,x as le,P as me}from"./index-4908071e.js";import{u as K,l as ue,r as W,V as ve}from"./VerPedidos-0ed873a3.js";import{u as he,g as X}from"./reservas.services-ea1265b5.js";import{t as _e,f as Y}from"./functions-0af0368e.js";import{F as E}from"./FormVacio-f9f0cb0c.js";import{c as V}from"./xmark-solid-4f97102d.js";import{e as Z}from"./eye-slash-d3ee0e19.js";import{M as $}from"./Modal-450cc9ef.js";import{L as T}from"./LoaderComponent-da1bf13f.js";import{a as Ae,g as O}from"./dudas.services-ace636cf.js";import{u as ge,b as xe,a as F,g as q,d as pe}from"./productos.services-21cddd9c.js";import{p as fe}from"./pencil-solid-d38e41d0.js";import"./index-a1c1509b.js";const be="data:image/webp;base64,UklGRhQFAABXRUJQVlA4WAoAAAAQAAAAPwAAPwAAQUxQSJwBAAABkCPbtlpH58kQMeY0AJxIMzOkxvBjaJJn0NyagMsDaGb8kBlSelJ1R0Zds57umUBETACcd13MBz+Ww52dcPlHkLvQBd3DfimWhHHJH1bTNFkVx5XJRg1txVBSDAstaZnb65KyHfFS6fsgCt/3pnAuEpX/r7ry5kWt7zmpD0Tx6zoH9YuieqEukXkuygMvybyon0lwSQivnak3Yoi6z2A+COVbc9oDIb1zStsmy1rLSUWhzZ3QFPLYxmOTQjx+rMRUATAs1AOAzzUDlLl+oSvmijsuCvn5Als2YHv1ne3rKtuyZdvcZtvis2ybq2zL39m+Bmwv82yZC2znumKu/Q6UuH4BPtc0MMzVD6DEVAGASabxY40hj208hiJPFie2rLOsNZ+EByy3cKp5z/HGnIbeiCHqxlkvMpzH2X19U0honmh77SVB3aKuhTokr32i6WUdXJoZNfGUgeNzoY5/l+C++62GN91I09xeS8s+Nki5JWfT2Mw2Q2HDeNlVabwBWgdmfu8n2f813Q/dHeczr78t2e1tu/TtVeZcB5wDVlA4IFIDAAAwEACdASpAAEAAPpFEmkolpCIhqBQKqLASCWINtOTb7v2dL7dsx6CtvBz5nol3kneXP8wwadord2smcQGl6mWeQz6u9glfciSdb0I+0lfxoM/8oxnzyt5NMGQZi6FdrnM9h2MH2f0EMOyLOSZJQzyN2vkxjqEmcRfwW0r2+glt4BDUDH6IIMdUqAAA/bP4p/x3//nyDdOx+Hfe5vzFswM7+EY3w+PsS/HnMn4uDOOke9OF+vbyyBHU64eBatjmDdYx+w7Etj/H7UnwDKGR68DH8CgS1c+K5GTBv7STbQiDV5YEw2EVKSTWZ/Xv4xq0jrknk+gdp7BV2w1XDsjF/Y7Tdnv/wL/Lj//Kz44IZtatwvKe/1GecgHW7A/TaeHFJh/po5fDGY+SOtOF67BvBqAKjIrrb2Ru1K4d2rzR/Ou7RFkWbRkT5K4EoZnrUMZCl+nXH4H6tIczcVNVzok+Pt5/fuzv/tfQMfYlBGHh6Jzoxe1hxln5arjPPcC2LiYEMwuMQqse8HOFqEd3vDkyYmLBX2q4poeZnYDBuafIgyXqovb97fusAcJSejDJHMyqI0RP2PM1zuYDFqCLEdSz4pgeSX1H7ReJko6ImCg3BweSPd/pqnxH7lpbKsy3fclrI8pmHFigPbrMs0CR2bjysR1RYkN2gb79IjPDa9UYcyO5w1el3O/1zg18C+++Bd72U4P0Mh0PxAksX2ViqKslj3HNkU38Dzho8vaUu+e+PotEwteEKWqOJ3demVtZPRVHcbnNE7EdjaQ03m/x92joOZkj8tcNW055chAQyCI8ue1jAFrv8fa0xn3IIF8jZrAvyLOO2B7U5gTIC0zcnpPi9NqHH9XlXlSAZqB7JwYvowf9LICfxlbZNofjKlcZWbcnZ4A5C6ClWukzLuGgnO2aL4gZIJH/Zz+VCJAC9nMmHxa8D0fLF6ed4iYUFkBvJ+Y/abkZVp5Ae0edJUNVZfT4k3JbBddyPkl5wcBkIjyz27in20XcM/cRb+m5XmrFe/1xl3llvkWHfLGefdcQEYGOPV+g5Ck/us4yF+63aIXTX6sp6gBa/FRS7j5MtNlBkh5wa1xs2uhUEohIXKEzCz0Ao8qvl7I5B4OeyBxn9hosEDNYYwAA",je="data:image/webp;base64,UklGRrwEAABXRUJQVlA4WAoAAAAQAAAAPwAAPwAAQUxQSJ4BAAABkFvbtmo3+z5BxJhTAdwHS2a2U2HIylgVmKkAWwWYGT9kghAf2JHwHfG79+wGImICYL2qc+zlj+VgdzdY/vFitKMKulvmU7EkjFNzzWqKhrJiOTNUqKFsIhCHwXipK3NtQxz7vZ6Tug+i8H2tg7ZQVP6/YMtbELVznpX8F6L4eZ6F/EVR/TovkXksyl94SRZE/UyCLiG8eK7aiCGqOYf5IJRvzVl3hPT6GWWbLOslp00K7egpRQGPX3hiSIgHTqSYMgBahLoBmOeaAdJcv1AVc8UVnULePs428pLt2Xe2r6tsyz7b5g7bNp/PtrnKtvyd7esLtqdjbMMdbG1VMddBBVJcP4F5rmmgmaseQIopAwBDTAMnCgMev/AEJnhGcGrpBsta8Wm4xXIVZ5r3HG/MWaiNGMIanLeToR3nn9M3hYTmobbnXhLkLep6lYfkufc1Pc2DTTOjJp4ysNwa6PjXDfs1bzW8qYZLc23dlX/PwHHJqO9ia6QYCgsG0rZS/QXQ2jDz+yDJwa/peuiuaB9+/m3J39nxl749G26rgHVWUDgg+AIAAPAOAJ0BKkAAQAA+mUSYSKWkIiEsGqzIsBMJYgC5VFrEDw68ztrOeI9AG89/xTfdv89W6a8zfs72PDcAkCltanp0+LzMEPAz3zn1gSkW71TStqUz/tsgX05b/80ehAQr/g9uUI8hw7Og5gaoBaxzRgdFcJ4l97ZttzjG36EW9RUAAP7i9uoVPW/4RCsmwrONNf1UTrZyT08bHUyGn0A/M754uV/6cCzmPQPE3wywzCR29GJWI7P3f8Op5iHPYvlKH0xXfnz8CG06th5qRgubV8/jwdswCElKaRTQwv7VGUbgR9+gKSzQHge2/e8DPtmrGLUE+L7HPwC0eLYVBm89n1+kheqiU86XdkLQSvT5O7yyYx+s1ZW5flzX0hgcKu6LR5YINBKdvH5ZXV7kwJJE6qou0HyFK/AnnJh9O460j3vykqXZvWuQI4vXoRRwdXEZeIIQ7mtDJR24kDm43w89xntLiNPm/++HPsedmCHnkUzJjTbRxjeWthd+CxpAxNBmSX5qYGDnDuAmZZxOcH+HDC5fuaF50AdhP8KVQ7oNXr0A0ewpGO8Bi+vpttgAhU2lXYd4UGpzt7U7uVGEs15O0ItX38xuKQh/pVv1+ztW6uDFn62M1mosScY/mJmTv4kV1ALVYk+RR3fR0mxiHrEMIh8mntE8HN9GmXzl++5C/AZhCq6AVC5vN4VZmq5oCsf2y4dblB0Cjs63XYn628jfnLG/JHArr2jX6vEcDhPCUNvHkFvSTobqGPyYhqDZI3OcUA6LRhU8BBf5VQyRzpMenjmXb40quQBg6cabcckW3+Ia+NErGvcuHTYU2hcJEbOcuyrL0483AITpGx/ozIlseCk+SIOJ0aCWKreumm3v1lSSQXW/dSBGgtQysPpmG36+Fd9MmDkAK52dNFrskHNgmzo2ma6pyXKK+6DzRGXzE+eGTsCzqVHkBz1gKEo9Q37BNbia63rp7kDyJWeYdByxO6nLErPL3Orbl+7NVzVW9z2770+CFqWyAAA=",we="data:image/webp;base64,UklGRqYDAABXRUJQVlA4WAoAAAAQAAAAPwAAPwAAQUxQSJ4BAAABkFvbtmo3+z5BxJhTAdwHS2a2U2HIylgVmKkAWwWYGT9kghAf2JHwHfG79+wGImICYL2qc+zlj+VgdzdY/vFitKMKulvmU7EkjFNzzWqKhrJiOTNUqKFsIhCHwXipK3NtQxz7vZ6Tug+i8H2tg7ZQVP6/YMtbELVznpX8F6L4eZ6F/EVR/TovkXksyl94SRZE/UyCLiG8eK7aiCGqOYf5IJRvzVl3hPT6GWWbLOslp00K7egpRQGPX3hiSIgHTqSYMgBahLoBmOeaAdJcv1AVc8UVnULePs428pLt2Xe2r6tsyz7b5g7bNp/PtrnKtvyd7esLtqdjbMMdbG1VMddBBVJcP4F5rmmgmaseQIopAwBDTAMnCgMev/AEJnhGcGrpBsta8Wm4xXIVZ5r3HG/MWaiNGMIanLeToR3nn9M3hYTmobbnXhLkLep6lYfkufc1Pc2DTTOjJp4ysNwa6PjXDfs1bzW8qYZLc23dlX/PwHHJqO9ia6QYCgsG0rZS/QXQ2jDz+yDJwa/peuiuaB9+/m3J39nxl749G26rgHVWUDgg4gEAADALAJ0BKkAAQAA+yVqlTielIyImFV2I8BkJZAE4ASyifXiPw9urz3Xob/2m+gKAEdduIFXbefPjSVeM4Vkpjtj/lOAw2UUbsZoSEYK1G8hWgGE2Sp6834LcUySpPnpM3zYAAP2zxXw9/g6RSbGDdMfOanFulj4XWkxGl8atuX14pJIcw7hQ9U+Cn6l2ZNae2Gdvbp7yMFdkWf4nVwd8pR9kajmJ7keB3QV/iIHugVf+JGFfB0sE3ln9dga+1jEAY1IXBgyZndMmS7P3yNW5gFG0t+qIby6gKd0be/jiCufDhAbsMkMJHj2YHNtOf8wSX4sPAFzkBFb+Votg/ihTD6Tzvbfh07LYaoPlMPwPWyoN+C1MmNPW+YdgfP1yQQVWvPb84rvtWme5qY/7ev3ghJQfA7tWOICmibdPVOWyjqaOW1qg/sDoE2py/+2pmsrsk0N6DtQwGUlt3UoXfASs4ZXNmDjw+GyqlR2oQvQv+6bWWmWrjPrfVuPRGc9Q/6gSOlXUL4xC9gVNfesdp8hI8vnZ3FSB9UdiSodroRkscRH/OMOVm5B+dtl7mlWi/iK5Mck2lcY3+a9q/8AlS7KZ9omTndUhMwkxc2wiwP90e4b0KIHosxHBWNT1tiVEO4aaAAAA",Ne="data:image/webp;base64,UklGRnwDAABXRUJQVlA4WAoAAAAQAAAAPwAAPwAAQUxQSJ4BAAABkFvbtmo3+z5BxJhTAdwHS2a2U2HIylgVmKkAWwWYGT9kghAf2JHwHfG79+wGImICYL2qc+zlj+VgdzdY/vFitKMKulvmU7EkjFNzzWqKhrJiOTNUqKFsIhCHwXipK3NtQxz7vZ6Tug+i8H2tg7ZQVP6/YMtbELVznpX8F6L4eZ6F/EVR/TovkXksyl94SRZE/UyCLiG8eK7aiCGqOYf5IJRvzVl3hPT6GWWbLOslp00K7egpRQGPX3hiSIgHTqSYMgBahLoBmOeaAdJcv1AVc8UVnULePs428pLt2Xe2r6tsyz7b5g7bNp/PtrnKtvyd7esLtqdjbMMdbG1VMddBBVJcP4F5rmmgmaseQIopAwBDTAMnCgMev/AEJnhGcGrpBsta8Wm4xXIVZ5r3HG/MWaiNGMIanLeToR3nn9M3hYTmobbnXhLkLep6lYfkufc1Pc2DTTOjJp4ysNwa6PjXDfs1bzW8qYZLc23dlX/PwHHJqO9ia6QYCgsG0rZS/QXQ2jDz+yDJwa/peuiuaB9+/m3J39nxl749G26rgHVWUDgguAEAAHAKAJ0BKkAAQAA+rUyaSr+koqG3+qgD8BWJQGSAzwB+AfwD7AKecwXS22XoA27PPYngBjRc3OKhBqkqz7NHCE8viOQMk2BOFn57xtiV4sIK9ArlfFgIy9wCZ5iAAP2tz1qtTM1TbPKv3ssqtqjcwwW5r84XcJJa8o6h18ddhV9kch7FZjGiTQ78qmfLWT3fKLWgGBes1TMiKI3sMk39rIig3kPiD6xJgjVJ3tYSCSdeKRDnrhYxntWuQ1MSnW1TCtrP8I8A4Uq6LIA7VGrUFQ6XCj12t26LnyodmztIW1wrCXumDkgt0j4ytKU7eVGO+m9fGQ0worL6rCGXA4mQoKpw7JnfextjkA9v1RwaX51UTSbDyhSF1iwPnVFJQEVnYrh/CmDuDfHvKs7JcaerW55Apzu3onIBoI8YNqXM9aQ5r290vBrIwVxpIdS/zBsgG0mlTDyJxkd8E7xrAZ41dYjlDFTSnYb6BsxU8D00ajOnHw6GTzDUTzhNmPu2SM9Jc2s32FZp+y5RHHz6PvhnHOl/sYj6Lv7u4XsAWyxkk4u2wqp4pbBHacGxBZk+lz+pouvhEc0KsIAA";function Se({modalBooking:l,closeModal:u}){const t=a.useId(),r=l.booking,_=_e(r.fecha),[v,h]=a.useState(r.estado),{auth:c}=D();async function i(m){c.data.rol!=="Guest"&&m.target.value!=r.estado&&(await he(r.id,{...r,estado:m.target.value})).status==200&&(h(m.target.value),r.estado=m.target.value)}return e.jsxs("div",{className:"verreserva__modal dashboard__modal",children:[e.jsxs("div",{className:"dashboard__modal-top verreserva__modal-top",children:[e.jsx("p",{className:"verreserva__top-id dashboard__modal-top-id",children:`Reserva nº ${r.id}`}),e.jsx("div",{className:"verreserva__top-cruz dashboard__top-cruz",children:e.jsx("img",{src:V,alt:"Cerrar",onClick:u})})]}),e.jsx("div",{className:"verreserva__estado dashboard__estado-modal",children:e.jsxs("select",{name:t,id:t,defaultValue:v,onChange:i,disabled:c.data.rol=="Guest",children:[e.jsx("option",{value:"A Confirmar",children:"A Confirmar"}),e.jsx("option",{value:"Reservado",children:"Reservado"}),e.jsx("option",{value:"Cancelado",children:"Cancelado"})]})}),e.jsxs("div",{className:"verreserva__info",children:[e.jsx("div",{className:"verreserva__dato-name dashboard__dato",children:e.jsx("div",{style:{fontFamily:"Amiri"},children:r.cliente_reserva})}),e.jsxs("div",{className:"verreserva__group",children:[e.jsxs("div",{className:"dashboard__dato verreserva__dato",children:[e.jsx("img",{src:K,alt:"Cantidad de personas",className:"dashboard-icon"}),e.jsx("div",{children:r.cantidad_personas})]}),e.jsxs("div",{className:"verreserva__dato dashboard__dato ",children:[e.jsx("img",{src:ue,alt:"Lugar a reservar",className:"dashboard-icon"}),e.jsx("div",{children:r.lugar})]})]}),e.jsxs("div",{className:"verreserva__group",children:[e.jsxs("div",{className:"verreserva__dato dashboard__dato",children:[e.jsx("img",{src:W,alt:"Fecha",className:"dashboard-icon"}),e.jsx("div",{children:_})]}),e.jsxs("div",{className:"verreserva__dato dashboard__dato ",children:[e.jsx("img",{src:W,alt:"Hora",className:"dashboard-icon"}),e.jsx("div",{children:r.hora})]})]})]})]})}function ye(){const l={timeZone:"America/Argentina/Buenos_Aires"},u=new Date().toLocaleString("en-US",l).split(" ")[0],t=new Date(u),r=t.toISOString().split("T")[0],v=new Date(t.getTime()+24*60*60*1e3).toISOString().split("T")[0],[h,c]=a.useState([]),[i,m]=a.useState(r),[b,y]=a.useState(window.innerWidth>768),[C,S]=a.useState(!1),[p,B]=a.useState(!0),[j,o]=a.useState({isSubmitted:!1,booking:{}}),[A,P]=a.useState({isSubmitted:!1,isGood:!1,msg:""});a.useEffect(()=>{async function d(){try{const k=await X({date:i});B(!1),c(k.data.data)}catch(k){B(!1),P({isSubmitted:!0,isGood:!1,msg:k.message})}}d()},[i]),a.useEffect(()=>{const d=()=>{y(window.innerWidth>768)};return window.addEventListener("resize",d),()=>{window.removeEventListener("resize",d)}},[]);function w(d){return C?d.filter(k=>k.estado!="Reservado"):d}async function x(){const d=await X({date:i});d.status==200&&c(d.data.data)}function I(d){ce.test(d.target.value)&&m(d.target.value)}function z(d){o({isSubmitted:!0,booking:d}),document.body.classList.add("disable-scroll")}function f(){o({isSubmitted:!1,booking:{}}),document.body.classList.remove("disable-scroll"),x()}function M(){P({isSubmitted:!1,isGood:!1,msg:""})}return e.jsxs("div",{className:"verreservas veritems",children:[e.jsxs("div",{className:"verreservas__fechas veritems__fechas",children:[e.jsx("div",{className:"verreservas__fecha-ayer button veritems__fechas-button",onClick:()=>m(r),children:"Hoy"}),e.jsx("input",{className:"verreservas__fecha-input",type:"date",onChange:I,value:i}),e.jsx("div",{className:"verreservas__fecha-hoy button veritems__fechas-button",onClick:()=>m(v),children:"Mañana"})]}),e.jsx("div",{className:"verreservas__filters",children:e.jsxs("div",{className:"misreservas__filter",onClick:()=>S(!C),children:[e.jsx("img",{src:Z,alt:"Icono de oculto"}),e.jsx("p",{children:C?"Mostrar reservados":"Ocultar reservados"})]})}),e.jsxs("div",{className:"verreservas__reservas veritems__lista",children:[e.jsxs("div",{className:"verreservas__header veritems__header",style:{gridTemplateColumns:"repeat(5, 1fr)"},children:[e.jsx("div",{className:"veritems__header-column  verreservas__header-column",children:"Hora"}),e.jsx("div",{className:"veritems__header-column  verreservas__header-column",children:"Cant."}),e.jsx("div",{className:"veritems__header-column  verreservas__header-column",children:"Cliente"}),e.jsx("div",{className:"veritems__header-column  verreservas__header-column",children:"Lugar"}),e.jsx("div",{className:"veritems__header-column  verreservas__header-column",children:"Estado"})]}),e.jsx("div",{className:"verreservas__body veritems__body",children:p?e.jsx(T,{size:"small",color:"blue"}):w(h).length<=0?e.jsx(E,{msg:"No hay reservas el día de hoy",msgButton:":("}):w(h).map(d=>e.jsxs("div",{className:"veritems__row verreservas__row",onClick:()=>z(d),style:{gridTemplateColumns:"repeat(5, 1fr)"},children:[e.jsx("div",{className:"veritems__dato verreservas__dato",children:d.hora}),e.jsx("div",{className:"veritems__dato verreservas__dato",children:d.cantidad_personas}),e.jsx("div",{className:"veritems__dato verreservas__dato",children:d.cliente_reserva}),e.jsx("div",{className:"veritems__dato verreservas__dato",children:d.lugar}),e.jsxs("div",{className:"veritems__dato verreservas__dato",children:[e.jsx("img",{src:Y(d.estado),alt:d.estado,className:"status-img reserva-status-img"}),b&&e.jsx("p",{children:d.estado})]})]},d.id))})]}),j.isSubmitted&&e.jsx(H,{comp:"verreservas",children:e.jsx(Se,{modalBooking:j,closeModal:f})}),A.isSubmitted&&e.jsx($,{isSubmitted:A.isSubmitted,isGoodStatus:A.isGood,msg:A.msg,handleSubmit:M})]})}const Ce="data:image/webp;base64,UklGRlwBAABXRUJQVlA4WAoAAAAQAAAAHwAAHwAAQUxQSNsAAAABgFvblurmFiA0M7PrwAKsFlSBmUMXoBZMqeVcPZiZKaIp4Ahm5ovjiGDktm0k2eo6c5v5hOpfwomlEpIIa+iJkvI4eAJkjopMBkgbDOetKiqt5xj+Yeqdq/ZiaDnlew6gZ7TQ4pzssZDVopSD3WJ0cRqsB7uX7UH68NRvIErBWYvlGaQUzA6YfC0N7Hhx3LAurdsF2PVhuy6Nf3F3x9e4tA47HlzzfYPXvHZdPErxZDImuXUovKEiUnghj2GvsC4q67DHfxr4OSoyP8Dx0GOp37VCJf0X8yHVvQgAVlA4IFoAAABQAwCdASogACAAP0mcxFuwKqckKAgCACkJbABWPQ/4CuL4zAD+wM/o9CW13HK7X2kOr4eeI7HNEnyfIVnGBRrYnDvyr0jBMBRKQSMk3yMWG9ELH20PcGRrwAA=",Ie="data:image/webp;base64,UklGRowBAABXRUJQVlA4WAoAAAAQAAAAHwAAHwAAQUxQSPkAAAABgGPb2rHn6f7Ytm0nZVLaxgB+lKk8BVuVbfZOZdu28zTv937PN4OIQNC2bdxcB/CjAADI33kecwcJK0BEfAyVdKRViII9BNPEIkpsFrm5UtxyYTvFDd8KxRJfM0Ub144lRRLHk0oGFBqvQrFAXLnAMVBZf7HOgLwaweVDZnDJaqFfWay/CHoDbEdGZHp7bAvaQi69W31uvPw/2BZNWTrnot8s84/tNJJRjCiaAtn9d4aAuvwTCZXx3v8DEWmR9uDOS/lHapz/Ph8U18BdwD7BHPCnPyzqPxrElnotcpQgPqPGH96RA2kO9YJn+ZMDdbrZnauvD1NRAAAAVlA4IGwAAABwBACdASogACAAPq1Gm0smJCKht+gAwBWJbAA+QG2A5//z/747BqC94exgcAD+3UR/+6pOnuZzUcY+/lNnSRpGON/e5aKRX+Ju4OzmzAZ1fRwSBzHePw6NyKKV/w7kqB9OYsMx6x91BfDRAAA=";function Be({modalDuda:l,closeModal:u}){const t=l.duda,r=a.useId(),[_,v]=a.useState(t.estado),{auth:h}=D();async function c(i){if(h.data.rol!=="Guest"&&i.target.value!=t.estado)try{await Ae({...t,estado:i.target.value}),v(i.target.value),t.estado=i.target.value}catch(m){console.log(m)}}return e.jsxs("div",{className:"dashboard__modal verduda__modal",children:[e.jsxs("div",{className:"verpedido__modal-top dashboard__modal-top",children:[e.jsx("p",{className:"verpedido__top-id dashboard__modal-top-id ",children:`Duda nº ${t.id}`}),e.jsx("div",{className:"verpedido__top-cruz dashboard__top-cruz",children:e.jsx("img",{src:V,alt:"Cerrar",onClick:u})})]}),e.jsx("div",{className:"verpedido__estado dashboard__estado-modal",children:e.jsxs("select",{name:r,id:r,defaultValue:_,className:"input",onChange:c,disabled:h.data.rol=="Guest",children:[e.jsx("option",{value:"No Leido",children:"No Leido"}),e.jsx("option",{value:"Leido",children:"Leido"}),e.jsx("option",{value:"Respondido",children:"Respondido"})]})}),e.jsxs("div",{className:"verduda__info-wrapper",children:[e.jsxs("div",{className:"verduda__contact",children:[e.jsxs("div",{className:"dashboard__dato verduda__dato",children:[e.jsx("img",{src:K,alt:"Nombre Completo",className:"dashboard-icon"}),e.jsx("div",{children:t.nombrecompleto})]}),e.jsxs("div",{className:"dashboard__dato verduda__dato",children:[e.jsx("img",{src:Ie,alt:"Telefono",className:"dashboard-icon"}),e.jsx("div",{children:"+"+t.telefono})]}),e.jsxs("div",{className:"dashboard__dato verduda__dato",children:[e.jsx("img",{src:Ce,alt:"Mail",className:"dashboard-icon"}),e.jsx("div",{children:t.mail})]})]}),e.jsxs("div",{className:"verduda__duda-wrapper",children:[e.jsx("label",{children:"Duda"}),e.jsx("div",{children:e.jsx("p",{children:t.duda})})]})]})]})}function ke(){const[l,u]=a.useState([]),[t,r]=a.useState(window.innerWidth>768),[_,v]=a.useState(!0),[h,c]=a.useState({isSubmitted:!1,reserva:{}}),[i,m]=a.useState(!0),[b,y]=a.useState({isSubmitted:!1,isGood:!1,msg:""});a.useEffect(()=>{async function o(){try{const A=await O();A.length>0&&(m(!1),u(A))}catch(A){m(!1),u([]),y({isSubmitted:!0,isGood:!1,msg:A.message})}}o()},[]),a.useEffect(()=>{const o=()=>{r(window.innerWidth>768)};return window.addEventListener("resize",o),()=>{window.removeEventListener("resize",o)}},[]);function C(o){return _?o.filter(A=>A.estado!="Respondido"):o}async function S(){try{const o=await O();o.length>0&&u(o)}catch(o){console.log(o),u([]),y({isSubmitted:!0,isGood:!1,msg:"Error en la conexion!"})}}function p(o){c({isSubmitted:!0,duda:o}),document.body.classList.add("disable-scroll")}function B(){c({isSubmitted:!1,duda:{}}),document.body.classList.remove("disable-scroll"),S()}function j(){y({isSubmitted:!1,isGood:!1,msg:""})}return e.jsxs("div",{className:"verdudas veritems",children:[e.jsx("div",{className:"verdudas__filters verreservas__filters",children:e.jsxs("div",{className:"misreservas__filter",onClick:()=>v(!_),children:[e.jsx("img",{src:Z,alt:"Icono de oculto"}),e.jsx("p",{children:_?"Ocultar respondidos":"Mostrar respondidos"})]})}),e.jsxs("div",{className:"verdudas__reservas veritems__lista",children:[e.jsxs("div",{className:"verdudas__header veritems__header",style:{gridTemplateColumns:"repeat(2, 1fr)"},children:[e.jsx("div",{className:"veritems__header-column  verdudas__header-column",children:"Duda"}),e.jsx("div",{className:"veritems__header-column  verdudas__header-column",children:"Estado"})]}),e.jsx("div",{className:"verdudas__body veritems__body",children:i?e.jsx(T,{size:"small",color:"blue"}):C(l).length<=0?e.jsx(E,{msg:"No hay dudas el día de hoy",msgButton:":("}):C(l).map(o=>e.jsxs("div",{className:"veritems__row verdudas__row",onClick:()=>p(o),style:{gridTemplateColumns:"repeat(2, 1fr)"},children:[e.jsx("div",{className:"veritems__dato verdudas__dato",children:e.jsx("p",{children:o.duda})}),e.jsxs("div",{className:"veritems__dato verdudas__dato",children:[e.jsx("img",{src:Y(o.estado),alt:o.estado,className:"status-img reserva-status-img"}),t&&e.jsx("p",{children:o.estado})]})]},o.id))})]}),h.isSubmitted&&e.jsx(H,{comp:"verreservas",children:e.jsx(Be,{modalDuda:h,closeModal:B})}),b.isSubmitted&&e.jsx($,{isSubmitted:b.isSubmitted,isGoodStatus:b.isGood,msg:b.msg,handleSubmit:j})]})}const Pe="/assets/magnifying-glass-solid-c43e02d5.svg";function ze({modalCarta:l,closeModal:u,categorias:t,action:r,handleMsgStatus:_}){var A,P,w;const v=l.item,h=a.useId(),c=a.useId(),i=a.useId(),m=a.useId(),b=a.useId(),{auth:y}=D(),{handleSubmit:C,register:S,formState:p}=ne({mode:"onBlur"}),{isDirty:B,errors:j}=p;async function o(x){const{categoria:I}=x,z=t.filter(f=>f.nombre===I)[0].id;if(y.data.rol!=="Guest"&&B)if(r=="U")try{const f=await ge(v.id,{...x,precioChico:parseInt(x.precioChico.substring(1)),precioGrande:parseInt(x.precioGrande.substring(1)),id_categoria:z});console.log(f),_(f,"Producto modificado correctamente","Hubo un error al modificar tu producto")}catch(f){console.log(f)}else try{const f=await xe({...x,precioChico:parseInt(x.precioChico.substring(1)),precioGrande:parseInt(x.precioGrande.substring(1)),id_categoria:z});_(f,"Producto agregado correctamente","Hubo un error al crear tu producto")}catch(f){console.log(f)}u()}return e.jsxs("div",{className:"dashboard__modal vercarta__modal",children:[e.jsxs("div",{className:"dashboard__modal-top vercarta__modal-top",children:[e.jsx("p",{className:"vercarta__top-id   dashboard__modal-top-id",children:`${r=="U"?`Producto nº ${v.id}}`:"New product"}`}),e.jsx("div",{className:"vercarta__top-cruz dashboard__top-cruz",children:e.jsx("img",{src:V,alt:"Cerrar",onClick:u})})]}),e.jsxs("form",{className:"vercarta__modal-body",onSubmit:C(o),children:[e.jsxs("div",{className:"vercarta__modal-info",children:[e.jsxs("div",{className:"vercarta__modal-row",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:h,children:"Nombre"}),e.jsx("input",{id:h,type:"text",defaultValue:r=="U"?v.nombre:"",className:"vercarta__input",...S("nombre",{required:!0,maxLength:30})})]}),((A=j.nombre)==null?void 0:A.type)==="required"&&e.jsx("p",{role:"alert",className:"form-error modal-item-error",children:"El nombre es necesario"})]}),e.jsx("div",{className:"vercarta__modal-row",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:c,children:"Descripcion"}),e.jsx("textarea",{name:c,id:c,cols:"20",rows:"6",...S("descripcion"),defaultValue:r=="U"?v.descripcion:""})]})}),e.jsx("div",{className:"vercarta__modal-row",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:i,children:"Categoria"}),e.jsx("select",{name:i,id:i,defaultValue:r=="U"?t[v.id_categoria-1].nombre:t[0].nombre,...S("categoria"),children:t&&t.map(x=>e.jsx("option",{children:x.nombre},x.id))})]})}),e.jsxs("div",{className:"vercarta__modal-row",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:m,children:"Precio chico"}),e.jsx("input",{id:m,type:"text",defaultValue:`$${r=="U"&&v.preciochico||0}`,...S("precioChico",{pattern:le})})]}),((P=j.precioChico)==null?void 0:P.type)==="pattern"&&e.jsx("p",{role:"alert",className:"form-error modal-item-error",children:"Debe comenzar con $ y uno o mas digitos"})]}),e.jsxs("div",{className:"vercarta__modal-row",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:b,children:"Precio grande"}),e.jsx("input",{id:b,type:"text",defaultValue:`$${r=="U"&&v.preciogrande||0}`,...S("precioGrande")})]}),((w=j.precioGrande)==null?void 0:w.type)==="pattern"&&e.jsx("p",{role:"alert",className:"form-error modal-item-error",children:"Debe comenzar con $ y uno o mas digitos"})]})]}),e.jsx("button",{disabled:y.data.rol=="Guest",className:"button",type:"submit",children:r=="U"?"Grabar":"Agregar"})]})]})}function Ge({handleSubmit:l,closeModal:u,msg:t}){return a.useEffect(()=>{document.body.style.overflow="hidden"},[]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"modal__container ",style:{marginTop:"2rem",left:0},children:e.jsxs("div",{className:"modal",children:[e.jsx("div",{className:"modal__top info"}),e.jsxs("div",{className:"modal__body",children:[e.jsx("div",{className:"modal__msg",children:e.jsx("p",{children:t})}),e.jsxs("div",{className:"modal__buttons",children:[e.jsx("button",{className:"modal__button bad",onClick:u,children:"Cancelar"}),e.jsx("button",{className:"modal__button info",onClick:l,children:"Aceptar"})]})]})]})})})}function De(){const[l,u]=a.useState({data:{id:""},status:!1}),[t,r]=a.useState([]),[_,v]=a.useState(""),[h,c]=a.useState({msg:"",status:!1}),[i,m]=a.useState([]),[b,y]=a.useState([]),[C,S]=a.useState([]),[p,B]=a.useState(1),[j,o]=a.useState(0),[A,P]=a.useState([]),[w,x]=a.useState(null),[I,z]=a.useState(null),[f,M]=a.useState(window.innerWidth>425),[d,k]=a.useState({isSubmitted:!1,item:{}}),[ee,U]=a.useState(!0),L=10,{auth:J}=D();a.useEffect(()=>{const s=()=>{M(window.innerWidth>425)};return window.addEventListener("resize",s),()=>{window.removeEventListener("resize",s)}},[]),a.useEffect(()=>{async function s(){try{const N=await F();r(N),U(!1)}catch(N){console.log(N),U(!1)}}async function n(){try{const N=await q();y(N)}catch(N){console.log(N)}}async function g(){try{const N=await q();S(N)}catch(N){console.log(N)}}s(),n(),g()},[]),a.useEffect(()=>{const s=[];for(let n=1;n<=Math.ceil(ie(t).length/L);n++)s.push(n);P(s)},[t,w,I]);async function se(){const s=await F();r(s),m(s)}function ae(s){u({data:{id:s},status:!0})}async function re(){const s=l.data.id;if(J.data.rol!=="Guest"){r(t.filter(g=>g.id!=s));const n=await pe(s);Q(n,"Eliminado correctamente","Hubo un error al eliminar tu producto")}u({data:{id:""},status:!1}),document.body.style.overflow="auto"}function Q(s,n,g){s.status>=200&&s.status<300?(se(),c({msg:n,status:!0}),document.querySelector(".vercarta-item-status").classList.add("good")):(c({msg:g,status:!1}),document.querySelector(".vercarta-item-status").classList.add("bad")),setTimeout(()=>{c({msg:"",status:!1}),document.querySelector(".vercarta-item-status").classList.remove("good")},2e3)}function R(s,n){k({isSubmitted:!0,item:s}),v(n),document.body.classList.add("disable-scroll")}function te(){k({isSubmitted:!1,item:{}}),document.body.classList.remove("disable-scroll")}function oe(){u({data:{id:""},status:!1}),document.body.style.overflow="auto"}function G(s){s!==p&&(window.scrollTo(0,300),B(s),o((s-1)*L))}function de(s){if(w==s.id){G(1),x(null);return}x(s.id),G(1)}function ie(s){if(I&&w){const n=s.filter(g=>g.id_categoria==w).filter(g=>g.nombre.toLowerCase().includes(I.toLowerCase()));return m(n),n}if(I){const n=s.filter(g=>g.nombre.toLowerCase().includes(I.toLowerCase()));return m(n),n}if(w!=null){const n=s.filter(g=>g.id_categoria==w).sort((g,N)=>g.nombre.localeCompare(N.nombre));return m(n),n}return m(s),s.sort((n,g)=>n.nombre.localeCompare(g.nombre))}return e.jsxs("div",{className:"vercarta",children:[e.jsxs("div",{className:"vercarta__search-wrapper",children:[e.jsxs("div",{className:"vercarta__search",children:[e.jsx("input",{type:"text",onChange:s=>z(s.target.value)}),e.jsx("img",{src:Pe,alt:"Buscador",className:"dashboard-icon"})]}),e.jsx("button",{className:"button vercarta__search-button",onClick:()=>R({},"A"),children:"Agregar"})]}),e.jsx("div",{className:"vercarta__filters",children:b.length>0&&b.map(s=>e.jsx("div",{className:`vercarta__filter ${w==s.id?"active":""}`,onClick:()=>de(s),children:s.nombre},s.id))}),e.jsx("p",{className:`vercarta-item-status ${h.status?"good":"bad"}`,children:h.msg}),e.jsxs("div",{className:"vercarta__carta veritems__lista",children:[e.jsxs("div",{className:"vercarta__header veritems__header",style:{gridTemplateColumns:"repeat(7,1fr)"},children:[e.jsx("div",{className:"veritems__header-column  vercarta__header-column",children:e.jsx("p",{children:f?"POSICION":"POS."})}),e.jsx("div",{className:"veritems__header-column  vercarta__header-column",children:e.jsx("p",{children:"NOMBRE"})}),e.jsx("div",{className:"veritems__header-column  vercarta__header-column",children:e.jsx("p",{children:"ACCIONES"})})]}),e.jsx("div",{className:"vercarta__body veritems__body",children:ee?e.jsx(T,{size:"small",color:"blue"}):i.length<=0?e.jsx(E,{msg:"No hay items",msgButton:":("}):i.slice(j,L+j).map((s,n)=>e.jsxs("div",{className:"veritems__row vercarta__row",style:{gridTemplateColumns:"repeat(7, 1fr)"},children:[e.jsx("div",{className:"veritems__dato vercarta__dato",children:e.jsx("p",{children:j===0?n+1:n+1+j})}),e.jsx("div",{className:"veritems__dato vercarta__dato vercarta__dato-nombre",children:e.jsx("p",{children:s.nombre.toUpperCase()})}),e.jsxs("div",{className:"veritems__dato vercarta__dato",children:[e.jsx("button",{className:"veritems__button-action",children:e.jsx("img",{src:fe,alt:"Modificar item",className:"dashboard-icon vercarta__acciones",onClick:()=>R(s,"U")})}),e.jsx("button",{className:"veritems__button-action",disabled:J.data.rol==="Guest",onClick:()=>ae(s.id),children:e.jsx("img",{src:V,alt:"Eliminar item",className:"dashboard-icon vercarta__acciones"})})]})]},s.id))})]}),e.jsx("div",{className:"vercarta__paginacion-wrapper",children:e.jsxs("div",{className:"vercarta__paginacion",children:[e.jsx("div",{className:"vercarta__pagina--button",children:e.jsx("p",{onClick:()=>G(p-1==0?p:p-1),children:"Previo"})}),i&&A.map(s=>e.jsx("div",{className:"vercarta__pagina",onClick:()=>G(s),children:e.jsx("p",{className:`${s==p?"active":""}`,children:s})},s)),e.jsx("div",{className:"vercarta__pagina--button",children:e.jsx("p",{onClick:()=>G(p+1>A.length?p:p+1),children:"Siguiente"})})]})}),d.isSubmitted&&e.jsx(H,{comp:"verpedidos",children:e.jsx(ze,{modalCarta:d,closeModal:te,categorias:C,action:_,handleMsgStatus:Q})}),l.status&&e.jsx(Ge,{handleSubmit:re,id:l.data.id,position:"top",closeModal:oe,msg:"Estas seguro que deseas eliminar este producto?"})]})}function Fe(){const[l,u]=a.useState(0),[t,r]=a.useState(window.innerWidth>768),_=["Ver Pedidos","Ver Reservas","Ver Dudas","Carta"],v=[be,je,we,Ne];a.useEffect(()=>{const c=()=>{r(window.innerWidth>768)};return window.addEventListener("resize",c),()=>{window.removeEventListener("resize",c)}},[]);function h(c){l!==c&&u(c)}return e.jsxs("div",{className:"dashboard",children:[e.jsx("div",{className:"dashboard__nav",children:e.jsx("div",{className:"dashboard__links-wrapper",children:_.map((c,i)=>e.jsxs("div",{onClick:()=>h(i),children:[e.jsx("img",{src:v[i],alt:c,className:`dashboard__link-icon ${l==i?"active":""}`}),t&&e.jsx("p",{children:_[i]})]},i))})}),e.jsxs("div",{className:"dashboard__content",children:[e.jsx(me,{goTo:"home",pathPrev:"Dashboard",pathActual:_[l]}),l===0&&e.jsx(ve,{}),l===1&&e.jsx(ye,{}),l===2&&e.jsx(ke,{}),l===3&&e.jsx(De,{})]})]})}export{Fe as default};
