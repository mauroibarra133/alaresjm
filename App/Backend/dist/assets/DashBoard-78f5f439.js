import{r as a,G as se,u as P,j as e,H as X,x as V,b as ae,I as re,P as te}from"./index-dfffccc7.js";import{u as O,l as oe,r as J,V as de}from"./VerPedidos-03677bde.js";import{u as ie,g as Q}from"./reservas.services-4572ba49.js";import{F as H}from"./FormVacio-56041e68.js";import{c as z}from"./xmark-solid-4f97102d.js";import{e as F}from"./eye-slash-d3ee0e19.js";import{M as q}from"./Modal-81ca4c6b.js";import{a as ce,g as T}from"./dudas.services-091b3894.js";import{u as ne,b as le,a as W,g as R,d as me}from"./productos.services-5ebb42d0.js";import{p as ue}from"./pencil-solid-d38e41d0.js";import"./index-83ad2fec.js";const ve="data:image/webp;base64,UklGRhQFAABXRUJQVlA4WAoAAAAQAAAAPwAAPwAAQUxQSJwBAAABkCPbtlpH58kQMeY0AJxIMzOkxvBjaJJn0NyagMsDaGb8kBlSelJ1R0Zds57umUBETACcd13MBz+Ww52dcPlHkLvQBd3DfimWhHHJH1bTNFkVx5XJRg1txVBSDAstaZnb65KyHfFS6fsgCt/3pnAuEpX/r7ry5kWt7zmpD0Tx6zoH9YuieqEukXkuygMvybyon0lwSQivnak3Yoi6z2A+COVbc9oDIb1zStsmy1rLSUWhzZ3QFPLYxmOTQjx+rMRUATAs1AOAzzUDlLl+oSvmijsuCvn5Als2YHv1ne3rKtuyZdvcZtvis2ybq2zL39m+Bmwv82yZC2znumKu/Q6UuH4BPtc0MMzVD6DEVAGASabxY40hj208hiJPFie2rLOsNZ+EByy3cKp5z/HGnIbeiCHqxlkvMpzH2X19U0honmh77SVB3aKuhTokr32i6WUdXJoZNfGUgeNzoY5/l+C++62GN91I09xeS8s+Nki5JWfT2Mw2Q2HDeNlVabwBWgdmfu8n2f813Q/dHeczr78t2e1tu/TtVeZcB5wDVlA4IFIDAAAwEACdASpAAEAAPpFEmkolpCIhqBQKqLASCWINtOTb7v2dL7dsx6CtvBz5nol3kneXP8wwadord2smcQGl6mWeQz6u9glfciSdb0I+0lfxoM/8oxnzyt5NMGQZi6FdrnM9h2MH2f0EMOyLOSZJQzyN2vkxjqEmcRfwW0r2+glt4BDUDH6IIMdUqAAA/bP4p/x3//nyDdOx+Hfe5vzFswM7+EY3w+PsS/HnMn4uDOOke9OF+vbyyBHU64eBatjmDdYx+w7Etj/H7UnwDKGR68DH8CgS1c+K5GTBv7STbQiDV5YEw2EVKSTWZ/Xv4xq0jrknk+gdp7BV2w1XDsjF/Y7Tdnv/wL/Lj//Kz44IZtatwvKe/1GecgHW7A/TaeHFJh/po5fDGY+SOtOF67BvBqAKjIrrb2Ru1K4d2rzR/Ou7RFkWbRkT5K4EoZnrUMZCl+nXH4H6tIczcVNVzok+Pt5/fuzv/tfQMfYlBGHh6Jzoxe1hxln5arjPPcC2LiYEMwuMQqse8HOFqEd3vDkyYmLBX2q4poeZnYDBuafIgyXqovb97fusAcJSejDJHMyqI0RP2PM1zuYDFqCLEdSz4pgeSX1H7ReJko6ImCg3BweSPd/pqnxH7lpbKsy3fclrI8pmHFigPbrMs0CR2bjysR1RYkN2gb79IjPDa9UYcyO5w1el3O/1zg18C+++Bd72U4P0Mh0PxAksX2ViqKslj3HNkU38Dzho8vaUu+e+PotEwteEKWqOJ3demVtZPRVHcbnNE7EdjaQ03m/x92joOZkj8tcNW055chAQyCI8ue1jAFrv8fa0xn3IIF8jZrAvyLOO2B7U5gTIC0zcnpPi9NqHH9XlXlSAZqB7JwYvowf9LICfxlbZNofjKlcZWbcnZ4A5C6ClWukzLuGgnO2aL4gZIJH/Zz+VCJAC9nMmHxa8D0fLF6ed4iYUFkBvJ+Y/abkZVp5Ae0edJUNVZfT4k3JbBddyPkl5wcBkIjyz27in20XcM/cRb+m5XmrFe/1xl3llvkWHfLGefdcQEYGOPV+g5Ck/us4yF+63aIXTX6sp6gBa/FRS7j5MtNlBkh5wa1xs2uhUEohIXKEzCz0Ao8qvl7I5B4OeyBxn9hosEDNYYwAA",he="data:image/webp;base64,UklGRrwEAABXRUJQVlA4WAoAAAAQAAAAPwAAPwAAQUxQSJ4BAAABkFvbtmo3+z5BxJhTAdwHS2a2U2HIylgVmKkAWwWYGT9kghAf2JHwHfG79+wGImICYL2qc+zlj+VgdzdY/vFitKMKulvmU7EkjFNzzWqKhrJiOTNUqKFsIhCHwXipK3NtQxz7vZ6Tug+i8H2tg7ZQVP6/YMtbELVznpX8F6L4eZ6F/EVR/TovkXksyl94SRZE/UyCLiG8eK7aiCGqOYf5IJRvzVl3hPT6GWWbLOslp00K7egpRQGPX3hiSIgHTqSYMgBahLoBmOeaAdJcv1AVc8UVnULePs428pLt2Xe2r6tsyz7b5g7bNp/PtrnKtvyd7esLtqdjbMMdbG1VMddBBVJcP4F5rmmgmaseQIopAwBDTAMnCgMev/AEJnhGcGrpBsta8Wm4xXIVZ5r3HG/MWaiNGMIanLeToR3nn9M3hYTmobbnXhLkLep6lYfkufc1Pc2DTTOjJp4ysNwa6PjXDfs1bzW8qYZLc23dlX/PwHHJqO9ia6QYCgsG0rZS/QXQ2jDz+yDJwa/peuiuaB9+/m3J39nxl749G26rgHVWUDgg+AIAAPAOAJ0BKkAAQAA+mUSYSKWkIiEsGqzIsBMJYgC5VFrEDw68ztrOeI9AG89/xTfdv89W6a8zfs72PDcAkCltanp0+LzMEPAz3zn1gSkW71TStqUz/tsgX05b/80ehAQr/g9uUI8hw7Og5gaoBaxzRgdFcJ4l97ZttzjG36EW9RUAAP7i9uoVPW/4RCsmwrONNf1UTrZyT08bHUyGn0A/M754uV/6cCzmPQPE3wywzCR29GJWI7P3f8Op5iHPYvlKH0xXfnz8CG06th5qRgubV8/jwdswCElKaRTQwv7VGUbgR9+gKSzQHge2/e8DPtmrGLUE+L7HPwC0eLYVBm89n1+kheqiU86XdkLQSvT5O7yyYx+s1ZW5flzX0hgcKu6LR5YINBKdvH5ZXV7kwJJE6qou0HyFK/AnnJh9O460j3vykqXZvWuQI4vXoRRwdXEZeIIQ7mtDJR24kDm43w89xntLiNPm/++HPsedmCHnkUzJjTbRxjeWthd+CxpAxNBmSX5qYGDnDuAmZZxOcH+HDC5fuaF50AdhP8KVQ7oNXr0A0ewpGO8Bi+vpttgAhU2lXYd4UGpzt7U7uVGEs15O0ItX38xuKQh/pVv1+ztW6uDFn62M1mosScY/mJmTv4kV1ALVYk+RR3fR0mxiHrEMIh8mntE8HN9GmXzl++5C/AZhCq6AVC5vN4VZmq5oCsf2y4dblB0Cjs63XYn628jfnLG/JHArr2jX6vEcDhPCUNvHkFvSTobqGPyYhqDZI3OcUA6LRhU8BBf5VQyRzpMenjmXb40quQBg6cabcckW3+Ia+NErGvcuHTYU2hcJEbOcuyrL0483AITpGx/ozIlseCk+SIOJ0aCWKreumm3v1lSSQXW/dSBGgtQysPpmG36+Fd9MmDkAK52dNFrskHNgmzo2ma6pyXKK+6DzRGXzE+eGTsCzqVHkBz1gKEo9Q37BNbia63rp7kDyJWeYdByxO6nLErPL3Orbl+7NVzVW9z2770+CFqWyAAA=",Ae="data:image/webp;base64,UklGRqYDAABXRUJQVlA4WAoAAAAQAAAAPwAAPwAAQUxQSJ4BAAABkFvbtmo3+z5BxJhTAdwHS2a2U2HIylgVmKkAWwWYGT9kghAf2JHwHfG79+wGImICYL2qc+zlj+VgdzdY/vFitKMKulvmU7EkjFNzzWqKhrJiOTNUqKFsIhCHwXipK3NtQxz7vZ6Tug+i8H2tg7ZQVP6/YMtbELVznpX8F6L4eZ6F/EVR/TovkXksyl94SRZE/UyCLiG8eK7aiCGqOYf5IJRvzVl3hPT6GWWbLOslp00K7egpRQGPX3hiSIgHTqSYMgBahLoBmOeaAdJcv1AVc8UVnULePs428pLt2Xe2r6tsyz7b5g7bNp/PtrnKtvyd7esLtqdjbMMdbG1VMddBBVJcP4F5rmmgmaseQIopAwBDTAMnCgMev/AEJnhGcGrpBsta8Wm4xXIVZ5r3HG/MWaiNGMIanLeToR3nn9M3hYTmobbnXhLkLep6lYfkufc1Pc2DTTOjJp4ysNwa6PjXDfs1bzW8qYZLc23dlX/PwHHJqO9ia6QYCgsG0rZS/QXQ2jDz+yDJwa/peuiuaB9+/m3J39nxl749G26rgHVWUDgg4gEAADALAJ0BKkAAQAA+yVqlTielIyImFV2I8BkJZAE4ASyifXiPw9urz3Xob/2m+gKAEdduIFXbefPjSVeM4Vkpjtj/lOAw2UUbsZoSEYK1G8hWgGE2Sp6834LcUySpPnpM3zYAAP2zxXw9/g6RSbGDdMfOanFulj4XWkxGl8atuX14pJIcw7hQ9U+Cn6l2ZNae2Gdvbp7yMFdkWf4nVwd8pR9kajmJ7keB3QV/iIHugVf+JGFfB0sE3ln9dga+1jEAY1IXBgyZndMmS7P3yNW5gFG0t+qIby6gKd0be/jiCufDhAbsMkMJHj2YHNtOf8wSX4sPAFzkBFb+Votg/ihTD6Tzvbfh07LYaoPlMPwPWyoN+C1MmNPW+YdgfP1yQQVWvPb84rvtWme5qY/7ev3ghJQfA7tWOICmibdPVOWyjqaOW1qg/sDoE2py/+2pmsrsk0N6DtQwGUlt3UoXfASs4ZXNmDjw+GyqlR2oQvQv+6bWWmWrjPrfVuPRGc9Q/6gSOlXUL4xC9gVNfesdp8hI8vnZ3FSB9UdiSodroRkscRH/OMOVm5B+dtl7mlWi/iK5Mck2lcY3+a9q/8AlS7KZ9omTndUhMwkxc2wiwP90e4b0KIHosxHBWNT1tiVEO4aaAAAA",_e="data:image/webp;base64,UklGRnwDAABXRUJQVlA4WAoAAAAQAAAAPwAAPwAAQUxQSJ4BAAABkFvbtmo3+z5BxJhTAdwHS2a2U2HIylgVmKkAWwWYGT9kghAf2JHwHfG79+wGImICYL2qc+zlj+VgdzdY/vFitKMKulvmU7EkjFNzzWqKhrJiOTNUqKFsIhCHwXipK3NtQxz7vZ6Tug+i8H2tg7ZQVP6/YMtbELVznpX8F6L4eZ6F/EVR/TovkXksyl94SRZE/UyCLiG8eK7aiCGqOYf5IJRvzVl3hPT6GWWbLOslp00K7egpRQGPX3hiSIgHTqSYMgBahLoBmOeaAdJcv1AVc8UVnULePs428pLt2Xe2r6tsyz7b5g7bNp/PtrnKtvyd7esLtqdjbMMdbG1VMddBBVJcP4F5rmmgmaseQIopAwBDTAMnCgMev/AEJnhGcGrpBsta8Wm4xXIVZ5r3HG/MWaiNGMIanLeToR3nn9M3hYTmobbnXhLkLep6lYfkufc1Pc2DTTOjJp4ysNwa6PjXDfs1bzW8qYZLc23dlX/PwHHJqO9ia6QYCgsG0rZS/QXQ2jDz+yDJwa/peuiuaB9+/m3J39nxl749G26rgHVWUDgguAEAAHAKAJ0BKkAAQAA+rUyaSr+koqG3+qgD8BWJQGSAzwB+AfwD7AKecwXS22XoA27PPYngBjRc3OKhBqkqz7NHCE8viOQMk2BOFn57xtiV4sIK9ArlfFgIy9wCZ5iAAP2tz1qtTM1TbPKv3ssqtqjcwwW5r84XcJJa8o6h18ddhV9kch7FZjGiTQ78qmfLWT3fKLWgGBes1TMiKI3sMk39rIig3kPiD6xJgjVJ3tYSCSdeKRDnrhYxntWuQ1MSnW1TCtrP8I8A4Uq6LIA7VGrUFQ6XCj12t26LnyodmztIW1wrCXumDkgt0j4ytKU7eVGO+m9fGQ0worL6rCGXA4mQoKpw7JnfextjkA9v1RwaX51UTSbDyhSF1iwPnVFJQEVnYrh/CmDuDfHvKs7JcaerW55Apzu3onIBoI8YNqXM9aQ5r290vBrIwVxpIdS/zBsgG0mlTDyJxkd8E7xrAZ41dYjlDFTSnYb6BsxU8D00ajOnHw6GTzDUTzhNmPu2SM9Jc2s32FZp+y5RHHz6PvhnHOl/sYj6Lv7u4XsAWyxkk4u2wqp4pbBHacGxBZk+lz+pouvhEc0KsIAA";function ge({modalBooking:m,closeModal:v}){const d=a.useId(),r=m.booking,h=se(r.fecha),[l,u]=a.useState(r.estado),{auth:t}=P();async function n(A){t.data.rol!=="Guest"&&A.target.value!=r.estado&&((await ie(r.id,{...r,estado:A.target.value})).status==200?(u(A.target.value),r.estado=A.target.value):console.log("No se pudo wn"))}return e.jsxs("div",{className:"verreserva__modal dashboard__modal",children:[e.jsxs("div",{className:"dashboard__modal-top verreserva__modal-top",children:[e.jsx("p",{className:"verreserva__top-id dashboard__modal-top-id",children:`Reserva nº ${r.id}`}),e.jsx("div",{className:"verreserva__top-cruz dashboard__top-cruz",children:e.jsx("img",{src:z,alt:"Cerrar",onClick:v})})]}),e.jsx("div",{className:"verreserva__estado dashboard__estado-modal",children:e.jsxs("select",{name:d,id:d,defaultValue:l,onChange:n,disabled:t.data.rol=="Guest",children:[e.jsx("option",{value:"A Confirmar",children:"A Confirmar"}),e.jsx("option",{value:"Reservado",children:"Reservado"}),e.jsx("option",{value:"Cancelado",children:"Cancelado"})]})}),e.jsxs("div",{className:"verreserva__info",children:[e.jsx("div",{className:"verreserva__dato-name dashboard__dato",children:e.jsx("div",{style:{fontFamily:"Amiri"},children:r.cliente_reserva})}),e.jsxs("div",{className:"verreserva__group",children:[e.jsxs("div",{className:"dashboard__dato verreserva__dato",children:[e.jsx("img",{src:O,alt:"Cantidad de personas",className:"dashboard-icon"}),e.jsx("div",{children:r.cantidad_personas})]}),e.jsxs("div",{className:"verreserva__dato dashboard__dato ",children:[e.jsx("img",{src:oe,alt:"Lugar a reservar",className:"dashboard-icon"}),e.jsx("div",{children:r.lugar})]})]}),e.jsxs("div",{className:"verreserva__group",children:[e.jsxs("div",{className:"verreserva__dato dashboard__dato",children:[e.jsx("img",{src:J,alt:"Fecha",className:"dashboard-icon"}),e.jsx("div",{children:h})]}),e.jsxs("div",{className:"verreserva__dato dashboard__dato ",children:[e.jsx("img",{src:J,alt:"Hora",className:"dashboard-icon"}),e.jsx("div",{children:r.hora})]})]})]})]})}function pe(){const v=new Date().toISOString().split("T")[0],d=new Date;d.setDate(d.getDate()+1);const r=d.toISOString().split("T")[0],[h,l]=a.useState([]),[u,t]=a.useState(v),[n,A]=a.useState(window.innerWidth>768),[f,I]=a.useState(!1),[x,j]=a.useState({isSubmitted:!1,booking:{}}),[w,o]=a.useState({isSubmitted:!1,isGood:!1,msg:""});a.useEffect(()=>{async function i(){try{const S=await Q({date:u});l(S.data.data)}catch(S){o({isSubmitted:!0,isGood:!1,msg:S.message})}}i()},[u]),a.useEffect(()=>{const i=()=>{A(window.innerWidth>768)};return window.addEventListener("resize",i),()=>{window.removeEventListener("resize",i)}},[]);function p(i){return f?i.filter(S=>S.estado!="Reservado"):i}async function k(){const i=await Q({date:u});i.status==200&&l(i.data.data)}function N(i){t(i.target.value)}function B(i){j({isSubmitted:!0,booking:i}),document.body.classList.add("disable-scroll")}function y(){j({isSubmitted:!1,booking:{}}),document.body.classList.remove("disable-scroll"),k()}function _(){o({isSubmitted:!1,isGood:!1,msg:""})}return e.jsxs("div",{className:"verreservas veritems",children:[e.jsxs("div",{className:"verreservas__fechas veritems__fechas",children:[e.jsx("div",{className:"verreservas__fecha-ayer button veritems__fechas-button",onClick:()=>t(v),children:"Hoy"}),e.jsx("input",{className:"verreservas__fecha-input",type:"date",onChange:N,value:u}),e.jsx("div",{className:"verreservas__fecha-hoy button veritems__fechas-button",onClick:()=>t(r),children:"Mañana"})]}),e.jsx("div",{className:"verreservas__filters",children:e.jsxs("div",{className:"misreservas__filter",onClick:()=>I(!f),children:[e.jsx("img",{src:F,alt:"Icono de oculto"}),e.jsx("p",{children:f?"Mostrar reservados":"Ocultar reservados"})]})}),e.jsxs("div",{className:"verreservas__reservas veritems__lista",children:[e.jsxs("div",{className:"verreservas__header veritems__header",style:{gridTemplateColumns:"repeat(5, 1fr)"},children:[e.jsx("div",{className:"veritems__header-column  verreservas__header-column",children:"Hora"}),e.jsx("div",{className:"veritems__header-column  verreservas__header-column",children:"Cant."}),e.jsx("div",{className:"veritems__header-column  verreservas__header-column",children:"Cliente"}),e.jsx("div",{className:"veritems__header-column  verreservas__header-column",children:"Lugar"}),e.jsx("div",{className:"veritems__header-column  verreservas__header-column",children:"Estado"})]}),e.jsx("div",{className:"verreservas__body veritems__body",children:p(h).length<=0?e.jsx(H,{msg:"No hay reservas el dia de hoy",msgButton:":("}):p(h).map(i=>e.jsxs("div",{className:"veritems__row verreservas__row",onClick:()=>B(i),style:{gridTemplateColumns:"repeat(5,1fr)"},children:[e.jsx("div",{className:"veritems__dato verreservas__dato",children:i.hora}),e.jsx("div",{className:"veritems__dato verreservas__dato",children:i.cantidad_personas}),e.jsx("div",{className:"veritems__dato verreservas__dato",children:i.cliente_reserva}),e.jsx("div",{className:"veritems__dato verreservas__dato",children:i.lugar}),e.jsxs("div",{className:"veritems__dato verreservas__dato",children:[e.jsx("img",{src:X(i.estado),alt:i.estado,className:"status-img reserva-status-img"}),n&&e.jsx("p",{children:i.estado})]})]},i.id))})]}),x.isSubmitted&&e.jsx(V,{comp:"verreservas",children:e.jsx(ge,{modalBooking:x,closeModal:y})}),e.jsx(q,{isSubmitted:w.isSubmitted,isGoodStatus:w.isGood,msg:w.msg,handleSubmit:_})]})}const xe="data:image/webp;base64,UklGRlwBAABXRUJQVlA4WAoAAAAQAAAAHwAAHwAAQUxQSNsAAAABgFvblurmFiA0M7PrwAKsFlSBmUMXoBZMqeVcPZiZKaIp4Ahm5ovjiGDktm0k2eo6c5v5hOpfwomlEpIIa+iJkvI4eAJkjopMBkgbDOetKiqt5xj+Yeqdq/ZiaDnlew6gZ7TQ4pzssZDVopSD3WJ0cRqsB7uX7UH68NRvIErBWYvlGaQUzA6YfC0N7Hhx3LAurdsF2PVhuy6Nf3F3x9e4tA47HlzzfYPXvHZdPErxZDImuXUovKEiUnghj2GvsC4q67DHfxr4OSoyP8Dx0GOp37VCJf0X8yHVvQgAVlA4IFoAAABQAwCdASogACAAP0mcxFuwKqckKAgCACkJbABWPQ/4CuL4zAD+wM/o9CW13HK7X2kOr4eeI7HNEnyfIVnGBRrYnDvyr0jBMBRKQSMk3yMWG9ELH20PcGRrwAA=",be="data:image/webp;base64,UklGRowBAABXRUJQVlA4WAoAAAAQAAAAHwAAHwAAQUxQSPkAAAABgGPb2rHn6f7Ytm0nZVLaxgB+lKk8BVuVbfZOZdu28zTv937PN4OIQNC2bdxcB/CjAADI33kecwcJK0BEfAyVdKRViII9BNPEIkpsFrm5UtxyYTvFDd8KxRJfM0Ub144lRRLHk0oGFBqvQrFAXLnAMVBZf7HOgLwaweVDZnDJaqFfWay/CHoDbEdGZHp7bAvaQi69W31uvPw/2BZNWTrnot8s84/tNJJRjCiaAtn9d4aAuvwTCZXx3v8DEWmR9uDOS/lHapz/Ph8U18BdwD7BHPCnPyzqPxrElnotcpQgPqPGH96RA2kO9YJn+ZMDdbrZnauvD1NRAAAAVlA4IGwAAABwBACdASogACAAPq1Gm0smJCKht+gAwBWJbAA+QG2A5//z/747BqC94exgcAD+3UR/+6pOnuZzUcY+/lNnSRpGON/e5aKRX+Ju4OzmzAZ1fRwSBzHePw6NyKKV/w7kqB9OYsMx6x91BfDRAAA=";function fe({modalDuda:m,closeModal:v}){const d=m.duda,r=a.useId(),[h,l]=a.useState(d.estado),{auth:u}=P();async function t(n){if(u.data.rol!=="Guest"&&n.target.value!=d.estado)try{await ce({...d,estado:n.target.value}),l(n.target.value),d.estado=n.target.value}catch(A){console.log(A)}}return e.jsxs("div",{className:"dashboard__modal verduda__modal",children:[e.jsxs("div",{className:"verpedido__modal-top dashboard__modal-top",children:[e.jsx("p",{className:"verpedido__top-id dashboard__modal-top-id ",children:`Duda nº ${d.id}`}),e.jsx("div",{className:"verpedido__top-cruz dashboard__top-cruz",children:e.jsx("img",{src:z,alt:"Cerrar",onClick:v})})]}),e.jsx("div",{className:"verpedido__estado dashboard__estado-modal",children:e.jsxs("select",{name:r,id:r,defaultValue:h,className:"input",onChange:t,disabled:u.data.rol=="Guest",children:[e.jsx("option",{value:"No Leido",children:"No Leido"}),e.jsx("option",{value:"Leido",children:"Leido"}),e.jsx("option",{value:"Respondido",children:"Respondido"})]})}),e.jsxs("div",{className:"verduda__info-wrapper",children:[e.jsxs("div",{className:"verduda__contact",children:[e.jsxs("div",{className:"dashboard__dato verduda__dato",children:[e.jsx("img",{src:O,alt:"Nombre Completo",className:"dashboard-icon"}),e.jsx("div",{children:d.nombrecompleto})]}),e.jsxs("div",{className:"dashboard__dato verduda__dato",children:[e.jsx("img",{src:be,alt:"Telefono",className:"dashboard-icon"}),e.jsx("div",{children:"+"+d.telefono})]}),e.jsxs("div",{className:"dashboard__dato verduda__dato",children:[e.jsx("img",{src:xe,alt:"Mail",className:"dashboard-icon"}),e.jsx("div",{children:d.mail})]})]}),e.jsxs("div",{className:"verduda__duda-wrapper",children:[e.jsx("label",{children:"Duda"}),e.jsx("div",{children:e.jsx("p",{children:d.duda})})]})]})]})}function je(){const[m,v]=a.useState([]),[d,r]=a.useState(window.innerWidth>768),[h,l]=a.useState(!0),[u,t]=a.useState({isSubmitted:!1,reserva:{}}),[n,A]=a.useState({isSubmitted:!1,isGood:!1,msg:""});a.useEffect(()=>{async function o(){try{const p=await T();p.length>0&&v(p)}catch(p){v([]),A({isSubmitted:!0,isGood:!1,msg:p.message})}}o()},[]),a.useEffect(()=>{const o=()=>{r(window.innerWidth>768)};return window.addEventListener("resize",o),()=>{window.removeEventListener("resize",o)}},[]);function f(o){return h?o.filter(p=>p.estado!="Respondido"):o}async function I(){try{const o=await T();console.log(o),o.length>0&&v(o)}catch(o){console.log(o),v([]),A({isSubmitted:!0,isGood:!1,msg:"Error en la conexion!"})}}function x(o){t({isSubmitted:!0,duda:o}),document.body.classList.add("disable-scroll")}function j(){t({isSubmitted:!1,duda:{}}),document.body.classList.remove("disable-scroll"),I()}function w(){A({isSubmitted:!1,isGood:!1,msg:""})}return e.jsxs("div",{className:"verdudas veritems",children:[e.jsx("div",{className:"verdudas__filters verreservas__filters",children:e.jsxs("div",{className:"misreservas__filter",onClick:()=>l(!h),children:[e.jsx("img",{src:F,alt:"Icono de oculto"}),e.jsx("p",{children:h?"Ocultar respondidos":"Mostrar respondidos"})]})}),e.jsxs("div",{className:"verdudas__reservas veritems__lista",children:[e.jsxs("div",{className:"verdudas__header veritems__header",style:{gridTemplateColumns:"repeat(2, 1fr)"},children:[e.jsx("div",{className:"veritems__header-column  verdudas__header-column",children:"Duda"}),e.jsx("div",{className:"veritems__header-column  verdudas__header-column",children:"Estado"})]}),e.jsx("div",{className:"verdudas__body veritems__body",children:f(m).length<=0?e.jsx(H,{msg:"No hay dudas el dia de hoy",msgButton:":("}):f(m).map(o=>e.jsxs("div",{className:"veritems__row verdudas__row",onClick:()=>x(o),style:{gridTemplateColumns:"repeat(2,1fr)"},children:[e.jsx("div",{className:"veritems__dato verdudas__dato",children:e.jsx("p",{children:o.duda})}),e.jsxs("div",{className:"veritems__dato verdudas__dato ",children:[e.jsx("img",{src:X(o.estado),alt:o.estado,className:"status-img reserva-status-img"}),d&&e.jsx("p",{children:o.estado})]})]},o.id))})]}),u.isSubmitted&&e.jsx(V,{comp:"verreservas",children:e.jsx(fe,{modalDuda:u,closeModal:j})}),e.jsx(q,{isSubmitted:n.isSubmitted,isGoodStatus:n.isGood,msg:n.msg,handleSubmit:w})]})}const we="/assets/magnifying-glass-solid-c43e02d5.svg";function Ne({modalCarta:m,closeModal:v,categorias:d,action:r,handleMsgStatus:h}){var N,B,y;const l=m.item,u=a.useId(),t=a.useId(),n=a.useId(),A=a.useId(),f=a.useId(),{auth:I}=P(),{handleSubmit:x,register:j,formState:w}=ae({mode:"onBlur"}),{isDirty:o,errors:p}=w;async function k(_){const{categoria:i}=_,S=d.filter(C=>C.nombre===i)[0].id;if(I.data.rol!=="Guest"&&o)if(r=="U"){const C=await ne(l.id,{..._,precioChico:parseInt(_.precioChico.substring(1)),precioGrande:parseInt(_.precioGrande.substring(1)),id_categoria:S});h(C,"Producto modificado correctamente","Hubo un error al modificar tu producto")}else{console.log({..._,precioChico:parseInt(_.precioChico.substring(1)),precioGrande:parseInt(_.precioGrande.substring(1)),id_categoria:S});const C=await le({..._,precioChico:parseInt(_.precioChico.substring(1)),precioGrande:parseInt(_.precioGrande.substring(1)),id_categoria:S});h(C,"Producto agregado correctamente","Hubo un error al crear tu producto")}v()}return e.jsxs("div",{className:"dashboard__modal vercarta__modal",children:[e.jsxs("div",{className:"dashboard__modal-top vercarta__modal-top",children:[e.jsx("p",{className:"vercarta__top-id   dashboard__modal-top-id",children:`${r=="U"?`Producto nº ${l.id}}`:"New product"}`}),e.jsx("div",{className:"vercarta__top-cruz dashboard__top-cruz",children:e.jsx("img",{src:z,alt:"Cerrar",onClick:v})})]}),e.jsxs("form",{className:"vercarta__modal-body",onSubmit:x(k),children:[e.jsxs("div",{className:"vercarta__modal-info",children:[e.jsxs("div",{className:"vercarta__modal-row",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:u,children:"Nombre"}),e.jsx("input",{id:u,type:"text",defaultValue:r=="U"?l.nombre:"",className:"vercarta__input",...j("nombre",{required:!0,maxLength:30})})]}),((N=p.nombre)==null?void 0:N.type)==="required"&&e.jsx("p",{role:"alert",className:"form-error modal-item-error",children:"El nombre es necesario"})]}),e.jsx("div",{className:"vercarta__modal-row",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:t,children:"Descripcion"}),e.jsx("textarea",{name:t,id:t,cols:"20",rows:"6",...j("descripcion"),defaultValue:r=="U"?l.descripcion:""})]})}),e.jsx("div",{className:"vercarta__modal-row",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:n,children:"Categoria"}),e.jsx("select",{name:n,id:n,defaultValue:r=="U"?d[l.id_categoria-1].nombre:d[0].nombre,...j("categoria"),children:d&&d.map(_=>e.jsx("option",{children:_.nombre},_.id))})]})}),e.jsxs("div",{className:"vercarta__modal-row",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:A,children:"Precio chico"}),e.jsx("input",{id:A,type:"text",defaultValue:`$${r=="U"&&l.preciochico||0}`,...j("precioChico",{pattern:re})})]}),((B=p.precioChico)==null?void 0:B.type)==="pattern"&&e.jsx("p",{role:"alert",className:"form-error modal-item-error",children:"Debe comenzar con $ y uno o mas digitos"})]}),e.jsxs("div",{className:"vercarta__modal-row",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:f,children:"Precio grande"}),e.jsx("input",{id:f,type:"text",defaultValue:`$${r=="U"&&l.preciogrande||0}`,...j("precioGrande")})]}),((y=p.precioGrande)==null?void 0:y.type)==="pattern"&&e.jsx("p",{role:"alert",className:"form-error modal-item-error",children:"Debe comenzar con $ y uno o mas digitos"})]})]}),e.jsx("button",{disabled:I.data.rol=="Guest",className:"button",type:"submit",children:r=="U"?"Grabar":"Agregar"})]})]})}function Se(){const[m,v]=a.useState([]),[d,r]=a.useState(""),[h,l]=a.useState({msg:"",status:!1}),[u,t]=a.useState([]),[n,A]=a.useState([]),[f,I]=a.useState([]),[x,j]=a.useState(1),[w,o]=a.useState(0),[p,k]=a.useState([]),[N,B]=a.useState(null),[y,_]=a.useState(null),[i,S]=a.useState(window.innerWidth>425),[C,M]=a.useState({isSubmitted:!1,item:{}}),D=10,{auth:L}=P();a.useEffect(()=>{const s=()=>{S(window.innerWidth>425)};return window.addEventListener("resize",s),()=>{window.removeEventListener("resize",s)}},[]),a.useEffect(()=>{async function s(){try{const b=await W();v(b)}catch(b){console.log(b)}}async function c(){try{const b=await R();A(b)}catch(b){console.log(b)}}async function g(){try{const b=await R();I(b)}catch(b){console.log(b)}}s(),c(),g()},[]),a.useEffect(()=>{const s=[];for(let c=1;c<=Math.ceil(ee(m).length/D);c++)s.push(c);k(s)},[m,N,y]);async function K(){const s=await W();v(s),t(s)}async function Y(s){if(L.data.rol!=="Guest"){const c=await me(s);console.log(c),v(m.filter(g=>g.id!=s)),E(c,"Eliminado correctamente","Hubo un error al eliminar tu producto")}}function E(s,c,g){s.status>=200&&s.status<300?(K(),l({msg:c,status:!0}),document.querySelector(".vercarta-item-status").classList.add("good")):(l({msg:g,status:!1}),document.querySelector(".vercarta-item-status").classList.add("bad")),setTimeout(()=>{l({msg:"",status:!1}),document.querySelector(".vercarta-item-status").classList.remove("good")},2e3)}function U(s,c){M({isSubmitted:!0,item:s}),r(c),document.body.classList.add("disable-scroll")}function Z(){M({isSubmitted:!1,item:{}}),document.body.classList.remove("disable-scroll")}function G(s){s!==x&&(window.scrollTo(0,300),j(s),o((s-1)*D))}function $(s){if(N==s.id){G(1),B(null);return}B(s.id),G(1)}function ee(s){if(y&&N){const c=s.filter(g=>g.id_categoria==N).filter(g=>g.nombre.toLowerCase().includes(y.toLowerCase()));return t(c),c}if(y){const c=s.filter(g=>g.nombre.toLowerCase().includes(y.toLowerCase()));return t(c),c}if(N!=null){const c=s.filter(g=>g.id_categoria==N).sort((g,b)=>g.nombre.localeCompare(b.nombre));return t(c),c}return t(s),s.sort((c,g)=>c.nombre.localeCompare(g.nombre))}return e.jsxs("div",{className:"vercarta",children:[e.jsxs("div",{className:"vercarta__search-wrapper",children:[e.jsxs("div",{className:"vercarta__search",children:[e.jsx("input",{type:"text",onChange:s=>_(s.target.value)}),e.jsx("img",{src:we,alt:"Buscador",className:"dashboard-icon"})]}),e.jsx("button",{className:"button vercarta__search-button",onClick:()=>U({},"A"),children:"Agregar"})]}),e.jsx("div",{className:"vercarta__filters",children:n.length>0&&n.map(s=>e.jsx("div",{className:`vercarta__filter ${N==s.id?"active":""}`,onClick:()=>$(s),children:s.nombre},s.id))}),e.jsx("p",{className:`vercarta-item-status ${h.status?"good":"bad"}`,children:h.msg}),e.jsxs("div",{className:"vercarta__carta veritems__lista",children:[e.jsxs("div",{className:"vercarta__header veritems__header",style:{gridTemplateColumns:"repeat(7,1fr)"},children:[e.jsx("div",{className:"veritems__header-column  vercarta__header-column",children:e.jsx("p",{children:i?"POSICION":"POS."})}),e.jsx("div",{className:"veritems__header-column  vercarta__header-column",children:e.jsx("p",{children:"NOMBRE"})}),e.jsx("div",{className:"veritems__header-column  vercarta__header-column",children:e.jsx("p",{children:"ACCIONES"})})]}),e.jsx("div",{className:"vercarta__body veritems__body",children:u.length<=0?e.jsx(H,{msg:"No hay items",msgButton:":("}):u.slice(w,D+w).map((s,c)=>e.jsxs("div",{className:"veritems__row vercarta__row",style:{gridTemplateColumns:"repeat(7 ,1fr)"},children:[e.jsx("div",{className:"veritems__dato vercarta__dato",children:e.jsx("p",{children:w==0?c+1:c+1+w})}),e.jsx("div",{className:"veritems__dato vercarta__dato vercarta__dato-nombre",children:e.jsx("p",{children:s.nombre.toUpperCase()})}),e.jsxs("div",{className:"veritems__dato vercarta__dato",children:[e.jsx("button",{children:e.jsx("img",{src:ue,alt:"Modificar item",className:"dashboard-icon vercarta__acciones",onClick:()=>U(s,"U")})}),e.jsx("button",{disabled:L.data.rol=="Guest",onClick:()=>Y(s.id),children:e.jsx("img",{src:z,alt:"Eliminar item",className:"dashboard-icon vercarta__acciones"})})]})]},s.id))})]}),e.jsx("div",{className:"vercarta__paginacion-wrapper",children:e.jsxs("div",{className:"vercarta__paginacion",children:[e.jsx("div",{className:"vercarta__pagina--button",children:e.jsx("p",{onClick:()=>G(x-1==0?x:x-1),children:"Previo"})}),u&&p.map(s=>e.jsx("div",{className:"vercarta__pagina",onClick:()=>G(s),children:e.jsx("p",{className:`${s==x?"active":""}`,children:s})},s)),e.jsx("div",{className:"vercarta__pagina--button",children:e.jsx("p",{onClick:()=>G(x+1>p.length?x:x+1),children:"Siguiente"})})]})}),C.isSubmitted&&e.jsx(V,{comp:"verpedidos",children:e.jsx(Ne,{modalCarta:C,closeModal:Z,categorias:f,action:d,handleMsgStatus:E})})]})}function Me(){const[m,v]=a.useState(0),[d,r]=a.useState(window.innerWidth>768),h=["Ver Pedidos","Ver Reservas","Ver Dudas","Carta"],l=[ve,he,Ae,_e];a.useEffect(()=>{const t=()=>{r(window.innerWidth>768)};return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}},[]);function u(t){m!==t&&v(t)}return e.jsxs("div",{className:"dashboard",children:[e.jsx("div",{className:"dashboard__nav",children:e.jsx("div",{className:"dashboard__links-wrapper",children:h.map((t,n)=>e.jsxs("div",{onClick:()=>u(n),children:[e.jsx("img",{src:l[n],alt:t,className:`dashboard__link-icon ${m==n?"active":""}`}),d&&e.jsx("p",{children:h[n]})]},n))})}),e.jsxs("div",{className:"dashboard__content",children:[e.jsx(te,{goTo:"home",pathPrev:"Dashboard",pathActual:h[m]}),m===0&&e.jsx(de,{}),m===1&&e.jsx(pe,{}),m===2&&e.jsx(je,{}),m===3&&e.jsx(Se,{})]})]})}export{Me as default};
