import{r as a,H as ce,u as G,j as e,I as K,y as M,J as le,b as ne,K as me,P as ue}from"./index-7972a769.js";import{u as Y,l as ve,r as W,V as he}from"./VerPedidos-9e9d6643.js";import{u as _e,g as X}from"./reservas.services-d148df57.js";import{F as H}from"./FormVacio-da1e2152.js";import{c as D}from"./xmark-solid-4f97102d.js";import{e as Z}from"./eye-slash-d3ee0e19.js";import{M as $}from"./Modal-dbe6c18c.js";import{L}from"./LoaderComponent-e3d78560.js";import{a as Ae,g as O}from"./dudas.services-2eb95396.js";import{u as ge,b as xe,a as F,g as q,d as pe}from"./productos.services-87f33e33.js";import{p as fe}from"./pencil-solid-d38e41d0.js";import"./index-becaf5ca.js";const be="data:image/webp;base64,UklGRhQFAABXRUJQVlA4WAoAAAAQAAAAPwAAPwAAQUxQSJwBAAABkCPbtlpH58kQMeY0AJxIMzOkxvBjaJJn0NyagMsDaGb8kBlSelJ1R0Zds57umUBETACcd13MBz+Ww52dcPlHkLvQBd3DfimWhHHJH1bTNFkVx5XJRg1txVBSDAstaZnb65KyHfFS6fsgCt/3pnAuEpX/r7ry5kWt7zmpD0Tx6zoH9YuieqEukXkuygMvybyon0lwSQivnak3Yoi6z2A+COVbc9oDIb1zStsmy1rLSUWhzZ3QFPLYxmOTQjx+rMRUATAs1AOAzzUDlLl+oSvmijsuCvn5Als2YHv1ne3rKtuyZdvcZtvis2ybq2zL39m+Bmwv82yZC2znumKu/Q6UuH4BPtc0MMzVD6DEVAGASabxY40hj208hiJPFie2rLOsNZ+EByy3cKp5z/HGnIbeiCHqxlkvMpzH2X19U0honmh77SVB3aKuhTokr32i6WUdXJoZNfGUgeNzoY5/l+C++62GN91I09xeS8s+Nki5JWfT2Mw2Q2HDeNlVabwBWgdmfu8n2f813Q/dHeczr78t2e1tu/TtVeZcB5wDVlA4IFIDAAAwEACdASpAAEAAPpFEmkolpCIhqBQKqLASCWINtOTb7v2dL7dsx6CtvBz5nol3kneXP8wwadord2smcQGl6mWeQz6u9glfciSdb0I+0lfxoM/8oxnzyt5NMGQZi6FdrnM9h2MH2f0EMOyLOSZJQzyN2vkxjqEmcRfwW0r2+glt4BDUDH6IIMdUqAAA/bP4p/x3//nyDdOx+Hfe5vzFswM7+EY3w+PsS/HnMn4uDOOke9OF+vbyyBHU64eBatjmDdYx+w7Etj/H7UnwDKGR68DH8CgS1c+K5GTBv7STbQiDV5YEw2EVKSTWZ/Xv4xq0jrknk+gdp7BV2w1XDsjF/Y7Tdnv/wL/Lj//Kz44IZtatwvKe/1GecgHW7A/TaeHFJh/po5fDGY+SOtOF67BvBqAKjIrrb2Ru1K4d2rzR/Ou7RFkWbRkT5K4EoZnrUMZCl+nXH4H6tIczcVNVzok+Pt5/fuzv/tfQMfYlBGHh6Jzoxe1hxln5arjPPcC2LiYEMwuMQqse8HOFqEd3vDkyYmLBX2q4poeZnYDBuafIgyXqovb97fusAcJSejDJHMyqI0RP2PM1zuYDFqCLEdSz4pgeSX1H7ReJko6ImCg3BweSPd/pqnxH7lpbKsy3fclrI8pmHFigPbrMs0CR2bjysR1RYkN2gb79IjPDa9UYcyO5w1el3O/1zg18C+++Bd72U4P0Mh0PxAksX2ViqKslj3HNkU38Dzho8vaUu+e+PotEwteEKWqOJ3demVtZPRVHcbnNE7EdjaQ03m/x92joOZkj8tcNW055chAQyCI8ue1jAFrv8fa0xn3IIF8jZrAvyLOO2B7U5gTIC0zcnpPi9NqHH9XlXlSAZqB7JwYvowf9LICfxlbZNofjKlcZWbcnZ4A5C6ClWukzLuGgnO2aL4gZIJH/Zz+VCJAC9nMmHxa8D0fLF6ed4iYUFkBvJ+Y/abkZVp5Ae0edJUNVZfT4k3JbBddyPkl5wcBkIjyz27in20XcM/cRb+m5XmrFe/1xl3llvkWHfLGefdcQEYGOPV+g5Ck/us4yF+63aIXTX6sp6gBa/FRS7j5MtNlBkh5wa1xs2uhUEohIXKEzCz0Ao8qvl7I5B4OeyBxn9hosEDNYYwAA",je="data:image/webp;base64,UklGRrwEAABXRUJQVlA4WAoAAAAQAAAAPwAAPwAAQUxQSJ4BAAABkFvbtmo3+z5BxJhTAdwHS2a2U2HIylgVmKkAWwWYGT9kghAf2JHwHfG79+wGImICYL2qc+zlj+VgdzdY/vFitKMKulvmU7EkjFNzzWqKhrJiOTNUqKFsIhCHwXipK3NtQxz7vZ6Tug+i8H2tg7ZQVP6/YMtbELVznpX8F6L4eZ6F/EVR/TovkXksyl94SRZE/UyCLiG8eK7aiCGqOYf5IJRvzVl3hPT6GWWbLOslp00K7egpRQGPX3hiSIgHTqSYMgBahLoBmOeaAdJcv1AVc8UVnULePs428pLt2Xe2r6tsyz7b5g7bNp/PtrnKtvyd7esLtqdjbMMdbG1VMddBBVJcP4F5rmmgmaseQIopAwBDTAMnCgMev/AEJnhGcGrpBsta8Wm4xXIVZ5r3HG/MWaiNGMIanLeToR3nn9M3hYTmobbnXhLkLep6lYfkufc1Pc2DTTOjJp4ysNwa6PjXDfs1bzW8qYZLc23dlX/PwHHJqO9ia6QYCgsG0rZS/QXQ2jDz+yDJwa/peuiuaB9+/m3J39nxl749G26rgHVWUDgg+AIAAPAOAJ0BKkAAQAA+mUSYSKWkIiEsGqzIsBMJYgC5VFrEDw68ztrOeI9AG89/xTfdv89W6a8zfs72PDcAkCltanp0+LzMEPAz3zn1gSkW71TStqUz/tsgX05b/80ehAQr/g9uUI8hw7Og5gaoBaxzRgdFcJ4l97ZttzjG36EW9RUAAP7i9uoVPW/4RCsmwrONNf1UTrZyT08bHUyGn0A/M754uV/6cCzmPQPE3wywzCR29GJWI7P3f8Op5iHPYvlKH0xXfnz8CG06th5qRgubV8/jwdswCElKaRTQwv7VGUbgR9+gKSzQHge2/e8DPtmrGLUE+L7HPwC0eLYVBm89n1+kheqiU86XdkLQSvT5O7yyYx+s1ZW5flzX0hgcKu6LR5YINBKdvH5ZXV7kwJJE6qou0HyFK/AnnJh9O460j3vykqXZvWuQI4vXoRRwdXEZeIIQ7mtDJR24kDm43w89xntLiNPm/++HPsedmCHnkUzJjTbRxjeWthd+CxpAxNBmSX5qYGDnDuAmZZxOcH+HDC5fuaF50AdhP8KVQ7oNXr0A0ewpGO8Bi+vpttgAhU2lXYd4UGpzt7U7uVGEs15O0ItX38xuKQh/pVv1+ztW6uDFn62M1mosScY/mJmTv4kV1ALVYk+RR3fR0mxiHrEMIh8mntE8HN9GmXzl++5C/AZhCq6AVC5vN4VZmq5oCsf2y4dblB0Cjs63XYn628jfnLG/JHArr2jX6vEcDhPCUNvHkFvSTobqGPyYhqDZI3OcUA6LRhU8BBf5VQyRzpMenjmXb40quQBg6cabcckW3+Ia+NErGvcuHTYU2hcJEbOcuyrL0483AITpGx/ozIlseCk+SIOJ0aCWKreumm3v1lSSQXW/dSBGgtQysPpmG36+Fd9MmDkAK52dNFrskHNgmzo2ma6pyXKK+6DzRGXzE+eGTsCzqVHkBz1gKEo9Q37BNbia63rp7kDyJWeYdByxO6nLErPL3Orbl+7NVzVW9z2770+CFqWyAAA=",we="data:image/webp;base64,UklGRqYDAABXRUJQVlA4WAoAAAAQAAAAPwAAPwAAQUxQSJ4BAAABkFvbtmo3+z5BxJhTAdwHS2a2U2HIylgVmKkAWwWYGT9kghAf2JHwHfG79+wGImICYL2qc+zlj+VgdzdY/vFitKMKulvmU7EkjFNzzWqKhrJiOTNUqKFsIhCHwXipK3NtQxz7vZ6Tug+i8H2tg7ZQVP6/YMtbELVznpX8F6L4eZ6F/EVR/TovkXksyl94SRZE/UyCLiG8eK7aiCGqOYf5IJRvzVl3hPT6GWWbLOslp00K7egpRQGPX3hiSIgHTqSYMgBahLoBmOeaAdJcv1AVc8UVnULePs428pLt2Xe2r6tsyz7b5g7bNp/PtrnKtvyd7esLtqdjbMMdbG1VMddBBVJcP4F5rmmgmaseQIopAwBDTAMnCgMev/AEJnhGcGrpBsta8Wm4xXIVZ5r3HG/MWaiNGMIanLeToR3nn9M3hYTmobbnXhLkLep6lYfkufc1Pc2DTTOjJp4ysNwa6PjXDfs1bzW8qYZLc23dlX/PwHHJqO9ia6QYCgsG0rZS/QXQ2jDz+yDJwa/peuiuaB9+/m3J39nxl749G26rgHVWUDgg4gEAADALAJ0BKkAAQAA+yVqlTielIyImFV2I8BkJZAE4ASyifXiPw9urz3Xob/2m+gKAEdduIFXbefPjSVeM4Vkpjtj/lOAw2UUbsZoSEYK1G8hWgGE2Sp6834LcUySpPnpM3zYAAP2zxXw9/g6RSbGDdMfOanFulj4XWkxGl8atuX14pJIcw7hQ9U+Cn6l2ZNae2Gdvbp7yMFdkWf4nVwd8pR9kajmJ7keB3QV/iIHugVf+JGFfB0sE3ln9dga+1jEAY1IXBgyZndMmS7P3yNW5gFG0t+qIby6gKd0be/jiCufDhAbsMkMJHj2YHNtOf8wSX4sPAFzkBFb+Votg/ihTD6Tzvbfh07LYaoPlMPwPWyoN+C1MmNPW+YdgfP1yQQVWvPb84rvtWme5qY/7ev3ghJQfA7tWOICmibdPVOWyjqaOW1qg/sDoE2py/+2pmsrsk0N6DtQwGUlt3UoXfASs4ZXNmDjw+GyqlR2oQvQv+6bWWmWrjPrfVuPRGc9Q/6gSOlXUL4xC9gVNfesdp8hI8vnZ3FSB9UdiSodroRkscRH/OMOVm5B+dtl7mlWi/iK5Mck2lcY3+a9q/8AlS7KZ9omTndUhMwkxc2wiwP90e4b0KIHosxHBWNT1tiVEO4aaAAAA",Ne="data:image/webp;base64,UklGRnwDAABXRUJQVlA4WAoAAAAQAAAAPwAAPwAAQUxQSJ4BAAABkFvbtmo3+z5BxJhTAdwHS2a2U2HIylgVmKkAWwWYGT9kghAf2JHwHfG79+wGImICYL2qc+zlj+VgdzdY/vFitKMKulvmU7EkjFNzzWqKhrJiOTNUqKFsIhCHwXipK3NtQxz7vZ6Tug+i8H2tg7ZQVP6/YMtbELVznpX8F6L4eZ6F/EVR/TovkXksyl94SRZE/UyCLiG8eK7aiCGqOYf5IJRvzVl3hPT6GWWbLOslp00K7egpRQGPX3hiSIgHTqSYMgBahLoBmOeaAdJcv1AVc8UVnULePs428pLt2Xe2r6tsyz7b5g7bNp/PtrnKtvyd7esLtqdjbMMdbG1VMddBBVJcP4F5rmmgmaseQIopAwBDTAMnCgMev/AEJnhGcGrpBsta8Wm4xXIVZ5r3HG/MWaiNGMIanLeToR3nn9M3hYTmobbnXhLkLep6lYfkufc1Pc2DTTOjJp4ysNwa6PjXDfs1bzW8qYZLc23dlX/PwHHJqO9ia6QYCgsG0rZS/QXQ2jDz+yDJwa/peuiuaB9+/m3J39nxl749G26rgHVWUDgguAEAAHAKAJ0BKkAAQAA+rUyaSr+koqG3+qgD8BWJQGSAzwB+AfwD7AKecwXS22XoA27PPYngBjRc3OKhBqkqz7NHCE8viOQMk2BOFn57xtiV4sIK9ArlfFgIy9wCZ5iAAP2tz1qtTM1TbPKv3ssqtqjcwwW5r84XcJJa8o6h18ddhV9kch7FZjGiTQ78qmfLWT3fKLWgGBes1TMiKI3sMk39rIig3kPiD6xJgjVJ3tYSCSdeKRDnrhYxntWuQ1MSnW1TCtrP8I8A4Uq6LIA7VGrUFQ6XCj12t26LnyodmztIW1wrCXumDkgt0j4ytKU7eVGO+m9fGQ0worL6rCGXA4mQoKpw7JnfextjkA9v1RwaX51UTSbDyhSF1iwPnVFJQEVnYrh/CmDuDfHvKs7JcaerW55Apzu3onIBoI8YNqXM9aQ5r290vBrIwVxpIdS/zBsgG0mlTDyJxkd8E7xrAZ41dYjlDFTSnYb6BsxU8D00ajOnHw6GTzDUTzhNmPu2SM9Jc2s32FZp+y5RHHz6PvhnHOl/sYj6Lv7u4XsAWyxkk4u2wqp4pbBHacGxBZk+lz+pouvhEc0KsIAA";function Se({modalBooking:n,closeModal:m}){const o=a.useId(),t=n.booking,_=ce(t.fecha),[u,v]=a.useState(t.estado),{auth:i}=G();async function l(h){i.data.rol!=="Guest"&&h.target.value!=t.estado&&(await _e(t.id,{...t,estado:h.target.value})).status==200&&(v(h.target.value),t.estado=h.target.value)}return e.jsxs("div",{className:"verreserva__modal dashboard__modal",children:[e.jsxs("div",{className:"dashboard__modal-top verreserva__modal-top",children:[e.jsx("p",{className:"verreserva__top-id dashboard__modal-top-id",children:`Reserva nº ${t.id}`}),e.jsx("div",{className:"verreserva__top-cruz dashboard__top-cruz",children:e.jsx("img",{src:D,alt:"Cerrar",onClick:m})})]}),e.jsx("div",{className:"verreserva__estado dashboard__estado-modal",children:e.jsxs("select",{name:o,id:o,defaultValue:u,onChange:l,disabled:i.data.rol=="Guest",children:[e.jsx("option",{value:"A Confirmar",children:"A Confirmar"}),e.jsx("option",{value:"Reservado",children:"Reservado"}),e.jsx("option",{value:"Cancelado",children:"Cancelado"})]})}),e.jsxs("div",{className:"verreserva__info",children:[e.jsx("div",{className:"verreserva__dato-name dashboard__dato",children:e.jsx("div",{style:{fontFamily:"Amiri"},children:t.cliente_reserva})}),e.jsxs("div",{className:"verreserva__group",children:[e.jsxs("div",{className:"dashboard__dato verreserva__dato",children:[e.jsx("img",{src:Y,alt:"Cantidad de personas",className:"dashboard-icon"}),e.jsx("div",{children:t.cantidad_personas})]}),e.jsxs("div",{className:"verreserva__dato dashboard__dato ",children:[e.jsx("img",{src:ve,alt:"Lugar a reservar",className:"dashboard-icon"}),e.jsx("div",{children:t.lugar})]})]}),e.jsxs("div",{className:"verreserva__group",children:[e.jsxs("div",{className:"verreserva__dato dashboard__dato",children:[e.jsx("img",{src:W,alt:"Fecha",className:"dashboard-icon"}),e.jsx("div",{children:_})]}),e.jsxs("div",{className:"verreserva__dato dashboard__dato ",children:[e.jsx("img",{src:W,alt:"Hora",className:"dashboard-icon"}),e.jsx("div",{children:t.hora})]})]})]})]})}function ye(){const m=new Date().toISOString().split("T")[0],o=new Date,t=new Date(o.setTime(o.getTime()+24*60*60*1e3)).toISOString().split("T")[0],[_,u]=a.useState([]),[v,i]=a.useState(m),[l,h]=a.useState(window.innerWidth>768),[f,S]=a.useState(!1),[C,w]=a.useState(!0),[g,I]=a.useState({isSubmitted:!1,booking:{}}),[b,d]=a.useState({isSubmitted:!1,isGood:!1,msg:""});a.useEffect(()=>{async function r(){try{const B=await X({date:v});w(!1),u(B.data.data)}catch(B){w(!1),d({isSubmitted:!0,isGood:!1,msg:B.message})}}r()},[v]),a.useEffect(()=>{const r=()=>{h(window.innerWidth>768)};return window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r)}},[]);function x(r){return f?r.filter(B=>B.estado!="Reservado"):r}async function k(){const r=await X({date:v});r.status==200&&u(r.data.data)}function N(r){le.test(r.target.value)&&i(r.target.value)}function p(r){I({isSubmitted:!0,booking:r}),document.body.classList.add("disable-scroll")}function y(){I({isSubmitted:!1,booking:{}}),document.body.classList.remove("disable-scroll"),k()}function P(){d({isSubmitted:!1,isGood:!1,msg:""})}return e.jsxs("div",{className:"verreservas veritems",children:[e.jsxs("div",{className:"verreservas__fechas veritems__fechas",children:[e.jsx("div",{className:"verreservas__fecha-ayer button veritems__fechas-button",onClick:()=>i(m),children:"Hoy"}),e.jsx("input",{className:"verreservas__fecha-input",type:"date",onChange:N,value:v}),e.jsx("div",{className:"verreservas__fecha-hoy button veritems__fechas-button",onClick:()=>i(t),children:"Mañana"})]}),e.jsx("div",{className:"verreservas__filters",children:e.jsxs("div",{className:"misreservas__filter",onClick:()=>S(!f),children:[e.jsx("img",{src:Z,alt:"Icono de oculto"}),e.jsx("p",{children:f?"Mostrar reservados":"Ocultar reservados"})]})}),e.jsxs("div",{className:"verreservas__reservas veritems__lista",children:[e.jsxs("div",{className:"verreservas__header veritems__header",style:{gridTemplateColumns:"repeat(5, 1fr)"},children:[e.jsx("div",{className:"veritems__header-column  verreservas__header-column",children:"Hora"}),e.jsx("div",{className:"veritems__header-column  verreservas__header-column",children:"Cant."}),e.jsx("div",{className:"veritems__header-column  verreservas__header-column",children:"Cliente"}),e.jsx("div",{className:"veritems__header-column  verreservas__header-column",children:"Lugar"}),e.jsx("div",{className:"veritems__header-column  verreservas__header-column",children:"Estado"})]}),e.jsx("div",{className:"verreservas__body veritems__body",children:C?e.jsx(L,{size:"small",color:"blue"}):x(_).length<=0?e.jsx(H,{msg:"No hay reservas el día de hoy",msgButton:":("}):x(_).map(r=>e.jsxs("div",{className:"veritems__row verreservas__row",onClick:()=>p(r),style:{gridTemplateColumns:"repeat(5, 1fr)"},children:[e.jsx("div",{className:"veritems__dato verreservas__dato",children:r.hora}),e.jsx("div",{className:"veritems__dato verreservas__dato",children:r.cantidad_personas}),e.jsx("div",{className:"veritems__dato verreservas__dato",children:r.cliente_reserva}),e.jsx("div",{className:"veritems__dato verreservas__dato",children:r.lugar}),e.jsxs("div",{className:"veritems__dato verreservas__dato",children:[e.jsx("img",{src:K(r.estado),alt:r.estado,className:"status-img reserva-status-img"}),l&&e.jsx("p",{children:r.estado})]})]},r.id))})]}),g.isSubmitted&&e.jsx(M,{comp:"verreservas",children:e.jsx(Se,{modalBooking:g,closeModal:y})}),e.jsx($,{isSubmitted:b.isSubmitted,isGoodStatus:b.isGood,msg:b.msg,handleSubmit:P})]})}const Ce="data:image/webp;base64,UklGRlwBAABXRUJQVlA4WAoAAAAQAAAAHwAAHwAAQUxQSNsAAAABgFvblurmFiA0M7PrwAKsFlSBmUMXoBZMqeVcPZiZKaIp4Ahm5ovjiGDktm0k2eo6c5v5hOpfwomlEpIIa+iJkvI4eAJkjopMBkgbDOetKiqt5xj+Yeqdq/ZiaDnlew6gZ7TQ4pzssZDVopSD3WJ0cRqsB7uX7UH68NRvIErBWYvlGaQUzA6YfC0N7Hhx3LAurdsF2PVhuy6Nf3F3x9e4tA47HlzzfYPXvHZdPErxZDImuXUovKEiUnghj2GvsC4q67DHfxr4OSoyP8Dx0GOp37VCJf0X8yHVvQgAVlA4IFoAAABQAwCdASogACAAP0mcxFuwKqckKAgCACkJbABWPQ/4CuL4zAD+wM/o9CW13HK7X2kOr4eeI7HNEnyfIVnGBRrYnDvyr0jBMBRKQSMk3yMWG9ELH20PcGRrwAA=",Ie="data:image/webp;base64,UklGRowBAABXRUJQVlA4WAoAAAAQAAAAHwAAHwAAQUxQSPkAAAABgGPb2rHn6f7Ytm0nZVLaxgB+lKk8BVuVbfZOZdu28zTv937PN4OIQNC2bdxcB/CjAADI33kecwcJK0BEfAyVdKRViII9BNPEIkpsFrm5UtxyYTvFDd8KxRJfM0Ub144lRRLHk0oGFBqvQrFAXLnAMVBZf7HOgLwaweVDZnDJaqFfWay/CHoDbEdGZHp7bAvaQi69W31uvPw/2BZNWTrnot8s84/tNJJRjCiaAtn9d4aAuvwTCZXx3v8DEWmR9uDOS/lHapz/Ph8U18BdwD7BHPCnPyzqPxrElnotcpQgPqPGH96RA2kO9YJn+ZMDdbrZnauvD1NRAAAAVlA4IGwAAABwBACdASogACAAPq1Gm0smJCKht+gAwBWJbAA+QG2A5//z/747BqC94exgcAD+3UR/+6pOnuZzUcY+/lNnSRpGON/e5aKRX+Ju4OzmzAZ1fRwSBzHePw6NyKKV/w7kqB9OYsMx6x91BfDRAAA=";function Be({modalDuda:n,closeModal:m}){const o=n.duda,t=a.useId(),[_,u]=a.useState(o.estado),{auth:v}=G();async function i(l){if(v.data.rol!=="Guest"&&l.target.value!=o.estado)try{await Ae({...o,estado:l.target.value}),u(l.target.value),o.estado=l.target.value}catch(h){console.log(h)}}return e.jsxs("div",{className:"dashboard__modal verduda__modal",children:[e.jsxs("div",{className:"verpedido__modal-top dashboard__modal-top",children:[e.jsx("p",{className:"verpedido__top-id dashboard__modal-top-id ",children:`Duda nº ${o.id}`}),e.jsx("div",{className:"verpedido__top-cruz dashboard__top-cruz",children:e.jsx("img",{src:D,alt:"Cerrar",onClick:m})})]}),e.jsx("div",{className:"verpedido__estado dashboard__estado-modal",children:e.jsxs("select",{name:t,id:t,defaultValue:_,className:"input",onChange:i,disabled:v.data.rol=="Guest",children:[e.jsx("option",{value:"No Leido",children:"No Leido"}),e.jsx("option",{value:"Leido",children:"Leido"}),e.jsx("option",{value:"Respondido",children:"Respondido"})]})}),e.jsxs("div",{className:"verduda__info-wrapper",children:[e.jsxs("div",{className:"verduda__contact",children:[e.jsxs("div",{className:"dashboard__dato verduda__dato",children:[e.jsx("img",{src:Y,alt:"Nombre Completo",className:"dashboard-icon"}),e.jsx("div",{children:o.nombrecompleto})]}),e.jsxs("div",{className:"dashboard__dato verduda__dato",children:[e.jsx("img",{src:Ie,alt:"Telefono",className:"dashboard-icon"}),e.jsx("div",{children:"+"+o.telefono})]}),e.jsxs("div",{className:"dashboard__dato verduda__dato",children:[e.jsx("img",{src:Ce,alt:"Mail",className:"dashboard-icon"}),e.jsx("div",{children:o.mail})]})]}),e.jsxs("div",{className:"verduda__duda-wrapper",children:[e.jsx("label",{children:"Duda"}),e.jsx("div",{children:e.jsx("p",{children:o.duda})})]})]})]})}function ke(){const[n,m]=a.useState([]),[o,t]=a.useState(window.innerWidth>768),[_,u]=a.useState(!0),[v,i]=a.useState({isSubmitted:!1,reserva:{}}),[l,h]=a.useState(!0),[f,S]=a.useState({isSubmitted:!1,isGood:!1,msg:""});a.useEffect(()=>{async function d(){try{const x=await O();x.length>0&&(h(!1),m(x))}catch(x){h(!1),m([]),S({isSubmitted:!0,isGood:!1,msg:x.message})}}d()},[]),a.useEffect(()=>{const d=()=>{t(window.innerWidth>768)};return window.addEventListener("resize",d),()=>{window.removeEventListener("resize",d)}},[]);function C(d){return _?d.filter(x=>x.estado!="Respondido"):d}async function w(){try{const d=await O();d.length>0&&m(d)}catch(d){console.log(d),m([]),S({isSubmitted:!0,isGood:!1,msg:"Error en la conexion!"})}}function g(d){i({isSubmitted:!0,duda:d}),document.body.classList.add("disable-scroll")}function I(){i({isSubmitted:!1,duda:{}}),document.body.classList.remove("disable-scroll"),w()}function b(){S({isSubmitted:!1,isGood:!1,msg:""})}return e.jsxs("div",{className:"verdudas veritems",children:[e.jsx("div",{className:"verdudas__filters verreservas__filters",children:e.jsxs("div",{className:"misreservas__filter",onClick:()=>u(!_),children:[e.jsx("img",{src:Z,alt:"Icono de oculto"}),e.jsx("p",{children:_?"Ocultar respondidos":"Mostrar respondidos"})]})}),e.jsxs("div",{className:"verdudas__reservas veritems__lista",children:[e.jsxs("div",{className:"verdudas__header veritems__header",style:{gridTemplateColumns:"repeat(2, 1fr)"},children:[e.jsx("div",{className:"veritems__header-column  verdudas__header-column",children:"Duda"}),e.jsx("div",{className:"veritems__header-column  verdudas__header-column",children:"Estado"})]}),e.jsx("div",{className:"verdudas__body veritems__body",children:l?e.jsx(L,{size:"small",color:"blue"}):C(n).length<=0?e.jsx(H,{msg:"No hay dudas el día de hoy",msgButton:":("}):C(n).map(d=>e.jsxs("div",{className:"veritems__row verdudas__row",onClick:()=>g(d),style:{gridTemplateColumns:"repeat(2, 1fr)"},children:[e.jsx("div",{className:"veritems__dato verdudas__dato",children:e.jsx("p",{children:d.duda})}),e.jsxs("div",{className:"veritems__dato verdudas__dato",children:[e.jsx("img",{src:K(d.estado),alt:d.estado,className:"status-img reserva-status-img"}),o&&e.jsx("p",{children:d.estado})]})]},d.id))})]}),v.isSubmitted&&e.jsx(M,{comp:"verreservas",children:e.jsx(Be,{modalDuda:v,closeModal:I})}),e.jsx($,{isSubmitted:f.isSubmitted,isGoodStatus:f.isGood,msg:f.msg,handleSubmit:b})]})}const Pe="/assets/magnifying-glass-solid-c43e02d5.svg";function ze({modalCarta:n,closeModal:m,categorias:o,action:t,handleMsgStatus:_}){var x,k,N;const u=n.item,v=a.useId(),i=a.useId(),l=a.useId(),h=a.useId(),f=a.useId(),{auth:S}=G(),{handleSubmit:C,register:w,formState:g}=ne({mode:"onBlur"}),{isDirty:I,errors:b}=g;async function d(p){const{categoria:y}=p,P=o.filter(r=>r.nombre===y)[0].id;if(S.data.rol!=="Guest"&&I)if(t=="U")try{const r=await ge(u.id,{...p,precioChico:parseInt(p.precioChico.substring(1)),precioGrande:parseInt(p.precioGrande.substring(1)),id_categoria:P});console.log(r),_(r,"Producto modificado correctamente","Hubo un error al modificar tu producto")}catch(r){console.log(r)}else try{const r=await xe({...p,precioChico:parseInt(p.precioChico.substring(1)),precioGrande:parseInt(p.precioGrande.substring(1)),id_categoria:P});_(r,"Producto agregado correctamente","Hubo un error al crear tu producto")}catch(r){console.log(r)}m()}return e.jsxs("div",{className:"dashboard__modal vercarta__modal",children:[e.jsxs("div",{className:"dashboard__modal-top vercarta__modal-top",children:[e.jsx("p",{className:"vercarta__top-id   dashboard__modal-top-id",children:`${t=="U"?`Producto nº ${u.id}}`:"New product"}`}),e.jsx("div",{className:"vercarta__top-cruz dashboard__top-cruz",children:e.jsx("img",{src:D,alt:"Cerrar",onClick:m})})]}),e.jsxs("form",{className:"vercarta__modal-body",onSubmit:C(d),children:[e.jsxs("div",{className:"vercarta__modal-info",children:[e.jsxs("div",{className:"vercarta__modal-row",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:v,children:"Nombre"}),e.jsx("input",{id:v,type:"text",defaultValue:t=="U"?u.nombre:"",className:"vercarta__input",...w("nombre",{required:!0,maxLength:30})})]}),((x=b.nombre)==null?void 0:x.type)==="required"&&e.jsx("p",{role:"alert",className:"form-error modal-item-error",children:"El nombre es necesario"})]}),e.jsx("div",{className:"vercarta__modal-row",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:i,children:"Descripcion"}),e.jsx("textarea",{name:i,id:i,cols:"20",rows:"6",...w("descripcion"),defaultValue:t=="U"?u.descripcion:""})]})}),e.jsx("div",{className:"vercarta__modal-row",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:l,children:"Categoria"}),e.jsx("select",{name:l,id:l,defaultValue:t=="U"?o[u.id_categoria-1].nombre:o[0].nombre,...w("categoria"),children:o&&o.map(p=>e.jsx("option",{children:p.nombre},p.id))})]})}),e.jsxs("div",{className:"vercarta__modal-row",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:h,children:"Precio chico"}),e.jsx("input",{id:h,type:"text",defaultValue:`$${t=="U"&&u.preciochico||0}`,...w("precioChico",{pattern:me})})]}),((k=b.precioChico)==null?void 0:k.type)==="pattern"&&e.jsx("p",{role:"alert",className:"form-error modal-item-error",children:"Debe comenzar con $ y uno o mas digitos"})]}),e.jsxs("div",{className:"vercarta__modal-row",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:f,children:"Precio grande"}),e.jsx("input",{id:f,type:"text",defaultValue:`$${t=="U"&&u.preciogrande||0}`,...w("precioGrande")})]}),((N=b.precioGrande)==null?void 0:N.type)==="pattern"&&e.jsx("p",{role:"alert",className:"form-error modal-item-error",children:"Debe comenzar con $ y uno o mas digitos"})]})]}),e.jsx("button",{disabled:S.data.rol=="Guest",className:"button",type:"submit",children:t=="U"?"Grabar":"Agregar"})]})]})}function Ge({handleSubmit:n,closeModal:m,msg:o}){return a.useEffect(()=>{document.body.style.overflow="hidden"},[]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"modal__container",style:{top:"2rem",left:0},children:e.jsxs("div",{className:"modal",children:[e.jsx("div",{className:"modal__top info"}),e.jsxs("div",{className:"modal__body",children:[e.jsx("div",{className:"modal__msg",children:e.jsx("p",{children:o})}),e.jsxs("div",{className:"modal__buttons",children:[e.jsx("button",{className:"modal__button bad",onClick:m,children:"Cancelar"}),e.jsx("button",{className:"modal__button info",onClick:n,children:"Aceptar"})]})]})]})})})}function De(){const[n,m]=a.useState({data:{id:""},status:!1}),[o,t]=a.useState([]),[_,u]=a.useState(""),[v,i]=a.useState({msg:"",status:!1}),[l,h]=a.useState([]),[f,S]=a.useState([]),[C,w]=a.useState([]),[g,I]=a.useState(1),[b,d]=a.useState(0),[x,k]=a.useState([]),[N,p]=a.useState(null),[y,P]=a.useState(null),[r,B]=a.useState(window.innerWidth>425),[E,T]=a.useState({isSubmitted:!1,item:{}}),[ee,U]=a.useState(!0),V=10,{auth:J}=G();a.useEffect(()=>{const s=()=>{B(window.innerWidth>425)};return window.addEventListener("resize",s),()=>{window.removeEventListener("resize",s)}},[]),a.useEffect(()=>{async function s(){try{const j=await F();t(j),U(!1)}catch(j){console.log(j),U(!1)}}async function c(){try{const j=await q();S(j)}catch(j){console.log(j)}}async function A(){try{const j=await q();w(j)}catch(j){console.log(j)}}s(),c(),A()},[]),a.useEffect(()=>{const s=[];for(let c=1;c<=Math.ceil(ie(o).length/V);c++)s.push(c);k(s)},[o,N,y]);async function se(){const s=await F();t(s),h(s)}function ae(s){m({data:{id:s},status:!0})}async function re(){const s=n.data.id;if(J.data.rol!=="Guest"){t(o.filter(A=>A.id!=s));const c=await pe(s);Q(c,"Eliminado correctamente","Hubo un error al eliminar tu producto")}m({data:{id:""},status:!1}),document.body.style.overflow="auto"}function Q(s,c,A){s.status>=200&&s.status<300?(se(),i({msg:c,status:!0}),document.querySelector(".vercarta-item-status").classList.add("good")):(i({msg:A,status:!1}),document.querySelector(".vercarta-item-status").classList.add("bad")),setTimeout(()=>{i({msg:"",status:!1}),document.querySelector(".vercarta-item-status").classList.remove("good")},2e3)}function R(s,c){T({isSubmitted:!0,item:s}),u(c),document.body.classList.add("disable-scroll")}function te(){T({isSubmitted:!1,item:{}}),document.body.classList.remove("disable-scroll")}function oe(){m({data:{id:""},status:!1}),document.body.style.overflow="auto"}function z(s){s!==g&&(window.scrollTo(0,300),I(s),d((s-1)*V))}function de(s){if(N==s.id){z(1),p(null);return}p(s.id),z(1)}function ie(s){if(y&&N){const c=s.filter(A=>A.id_categoria==N).filter(A=>A.nombre.toLowerCase().includes(y.toLowerCase()));return h(c),c}if(y){const c=s.filter(A=>A.nombre.toLowerCase().includes(y.toLowerCase()));return h(c),c}if(N!=null){const c=s.filter(A=>A.id_categoria==N).sort((A,j)=>A.nombre.localeCompare(j.nombre));return h(c),c}return h(s),s.sort((c,A)=>c.nombre.localeCompare(A.nombre))}return e.jsxs("div",{className:"vercarta",children:[e.jsxs("div",{className:"vercarta__search-wrapper",children:[e.jsxs("div",{className:"vercarta__search",children:[e.jsx("input",{type:"text",onChange:s=>P(s.target.value)}),e.jsx("img",{src:Pe,alt:"Buscador",className:"dashboard-icon"})]}),e.jsx("button",{className:"button vercarta__search-button",onClick:()=>R({},"A"),children:"Agregar"})]}),e.jsx("div",{className:"vercarta__filters",children:f.length>0&&f.map(s=>e.jsx("div",{className:`vercarta__filter ${N==s.id?"active":""}`,onClick:()=>de(s),children:s.nombre},s.id))}),e.jsx("p",{className:`vercarta-item-status ${v.status?"good":"bad"}`,children:v.msg}),e.jsxs("div",{className:"vercarta__carta veritems__lista",children:[e.jsxs("div",{className:"vercarta__header veritems__header",style:{gridTemplateColumns:"repeat(7,1fr)"},children:[e.jsx("div",{className:"veritems__header-column  vercarta__header-column",children:e.jsx("p",{children:r?"POSICION":"POS."})}),e.jsx("div",{className:"veritems__header-column  vercarta__header-column",children:e.jsx("p",{children:"NOMBRE"})}),e.jsx("div",{className:"veritems__header-column  vercarta__header-column",children:e.jsx("p",{children:"ACCIONES"})})]}),e.jsx("div",{className:"vercarta__body veritems__body",children:ee?e.jsx(L,{size:"small",color:"blue"}):l.length<=0?e.jsx(H,{msg:"No hay items",msgButton:":("}):l.slice(b,V+b).map((s,c)=>e.jsxs("div",{className:"veritems__row vercarta__row",style:{gridTemplateColumns:"repeat(7, 1fr)"},children:[e.jsx("div",{className:"veritems__dato vercarta__dato",children:e.jsx("p",{children:b===0?c+1:c+1+b})}),e.jsx("div",{className:"veritems__dato vercarta__dato vercarta__dato-nombre",children:e.jsx("p",{children:s.nombre.toUpperCase()})}),e.jsxs("div",{className:"veritems__dato vercarta__dato",children:[e.jsx("button",{className:"veritems__button-action",children:e.jsx("img",{src:fe,alt:"Modificar item",className:"dashboard-icon vercarta__acciones",onClick:()=>R(s,"U")})}),e.jsx("button",{className:"veritems__button-action",disabled:J.data.rol==="Guest",onClick:()=>ae(s.id),children:e.jsx("img",{src:D,alt:"Eliminar item",className:"dashboard-icon vercarta__acciones"})})]})]},s.id))})]}),e.jsx("div",{className:"vercarta__paginacion-wrapper",children:e.jsxs("div",{className:"vercarta__paginacion",children:[e.jsx("div",{className:"vercarta__pagina--button",children:e.jsx("p",{onClick:()=>z(g-1==0?g:g-1),children:"Previo"})}),l&&x.map(s=>e.jsx("div",{className:"vercarta__pagina",onClick:()=>z(s),children:e.jsx("p",{className:`${s==g?"active":""}`,children:s})},s)),e.jsx("div",{className:"vercarta__pagina--button",children:e.jsx("p",{onClick:()=>z(g+1>x.length?g:g+1),children:"Siguiente"})})]})}),E.isSubmitted&&e.jsx(M,{comp:"verpedidos",children:e.jsx(ze,{modalCarta:E,closeModal:te,categorias:C,action:_,handleMsgStatus:Q})}),n.status&&e.jsx(Ge,{handleSubmit:re,id:n.data.id,position:"top",closeModal:oe,msg:"Estas seguro que deseas eliminar este producto?"})]})}function Oe(){const[n,m]=a.useState(0),[o,t]=a.useState(window.innerWidth>768),_=["Ver Pedidos","Ver Reservas","Ver Dudas","Carta"],u=[be,je,we,Ne];a.useEffect(()=>{const i=()=>{t(window.innerWidth>768)};return window.addEventListener("resize",i),()=>{window.removeEventListener("resize",i)}},[]);function v(i){n!==i&&m(i)}return e.jsxs("div",{className:"dashboard",children:[e.jsx("div",{className:"dashboard__nav",children:e.jsx("div",{className:"dashboard__links-wrapper",children:_.map((i,l)=>e.jsxs("div",{onClick:()=>v(l),children:[e.jsx("img",{src:u[l],alt:i,className:`dashboard__link-icon ${n==l?"active":""}`}),o&&e.jsx("p",{children:_[l]})]},l))})}),e.jsxs("div",{className:"dashboard__content",children:[e.jsx(ue,{goTo:"home",pathPrev:"Dashboard",pathActual:_[n]}),n===0&&e.jsx(he,{}),n===1&&e.jsx(ye,{}),n===2&&e.jsx(ke,{}),n===3&&e.jsx(De,{})]})]})}export{Oe as default};
