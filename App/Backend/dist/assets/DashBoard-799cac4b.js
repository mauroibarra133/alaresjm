import{r as a,H as te,u as G,j as e,I as F,y as H,b as oe,J as de,P as ie}from"./index-3d224542.js";import{u as q,l as ce,r as T,V as ne}from"./VerPedidos-84588e8f.js";import{u as le,g as W}from"./reservas.services-34d7ac23.js";import{F as L}from"./FormVacio-e97425c3.js";import{c as D}from"./xmark-solid-4f97102d.js";import{e as K}from"./eye-slash-d3ee0e19.js";import{M as Y}from"./Modal-9bc1f641.js";import{L as M}from"./LoaderComponent-1b37c472.js";import{a as me,g as R}from"./dudas.services-e87f1423.js";import{u as ue,b as ve,a as X,g as O,d as he}from"./productos.services-9a98078f.js";import{p as Ae}from"./pencil-solid-d38e41d0.js";import"./index-2b238c30.js";const _e="data:image/webp;base64,UklGRhQFAABXRUJQVlA4WAoAAAAQAAAAPwAAPwAAQUxQSJwBAAABkCPbtlpH58kQMeY0AJxIMzOkxvBjaJJn0NyagMsDaGb8kBlSelJ1R0Zds57umUBETACcd13MBz+Ww52dcPlHkLvQBd3DfimWhHHJH1bTNFkVx5XJRg1txVBSDAstaZnb65KyHfFS6fsgCt/3pnAuEpX/r7ry5kWt7zmpD0Tx6zoH9YuieqEukXkuygMvybyon0lwSQivnak3Yoi6z2A+COVbc9oDIb1zStsmy1rLSUWhzZ3QFPLYxmOTQjx+rMRUATAs1AOAzzUDlLl+oSvmijsuCvn5Als2YHv1ne3rKtuyZdvcZtvis2ybq2zL39m+Bmwv82yZC2znumKu/Q6UuH4BPtc0MMzVD6DEVAGASabxY40hj208hiJPFie2rLOsNZ+EByy3cKp5z/HGnIbeiCHqxlkvMpzH2X19U0honmh77SVB3aKuhTokr32i6WUdXJoZNfGUgeNzoY5/l+C++62GN91I09xeS8s+Nki5JWfT2Mw2Q2HDeNlVabwBWgdmfu8n2f813Q/dHeczr78t2e1tu/TtVeZcB5wDVlA4IFIDAAAwEACdASpAAEAAPpFEmkolpCIhqBQKqLASCWINtOTb7v2dL7dsx6CtvBz5nol3kneXP8wwadord2smcQGl6mWeQz6u9glfciSdb0I+0lfxoM/8oxnzyt5NMGQZi6FdrnM9h2MH2f0EMOyLOSZJQzyN2vkxjqEmcRfwW0r2+glt4BDUDH6IIMdUqAAA/bP4p/x3//nyDdOx+Hfe5vzFswM7+EY3w+PsS/HnMn4uDOOke9OF+vbyyBHU64eBatjmDdYx+w7Etj/H7UnwDKGR68DH8CgS1c+K5GTBv7STbQiDV5YEw2EVKSTWZ/Xv4xq0jrknk+gdp7BV2w1XDsjF/Y7Tdnv/wL/Lj//Kz44IZtatwvKe/1GecgHW7A/TaeHFJh/po5fDGY+SOtOF67BvBqAKjIrrb2Ru1K4d2rzR/Ou7RFkWbRkT5K4EoZnrUMZCl+nXH4H6tIczcVNVzok+Pt5/fuzv/tfQMfYlBGHh6Jzoxe1hxln5arjPPcC2LiYEMwuMQqse8HOFqEd3vDkyYmLBX2q4poeZnYDBuafIgyXqovb97fusAcJSejDJHMyqI0RP2PM1zuYDFqCLEdSz4pgeSX1H7ReJko6ImCg3BweSPd/pqnxH7lpbKsy3fclrI8pmHFigPbrMs0CR2bjysR1RYkN2gb79IjPDa9UYcyO5w1el3O/1zg18C+++Bd72U4P0Mh0PxAksX2ViqKslj3HNkU38Dzho8vaUu+e+PotEwteEKWqOJ3demVtZPRVHcbnNE7EdjaQ03m/x92joOZkj8tcNW055chAQyCI8ue1jAFrv8fa0xn3IIF8jZrAvyLOO2B7U5gTIC0zcnpPi9NqHH9XlXlSAZqB7JwYvowf9LICfxlbZNofjKlcZWbcnZ4A5C6ClWukzLuGgnO2aL4gZIJH/Zz+VCJAC9nMmHxa8D0fLF6ed4iYUFkBvJ+Y/abkZVp5Ae0edJUNVZfT4k3JbBddyPkl5wcBkIjyz27in20XcM/cRb+m5XmrFe/1xl3llvkWHfLGefdcQEYGOPV+g5Ck/us4yF+63aIXTX6sp6gBa/FRS7j5MtNlBkh5wa1xs2uhUEohIXKEzCz0Ao8qvl7I5B4OeyBxn9hosEDNYYwAA",ge="data:image/webp;base64,UklGRrwEAABXRUJQVlA4WAoAAAAQAAAAPwAAPwAAQUxQSJ4BAAABkFvbtmo3+z5BxJhTAdwHS2a2U2HIylgVmKkAWwWYGT9kghAf2JHwHfG79+wGImICYL2qc+zlj+VgdzdY/vFitKMKulvmU7EkjFNzzWqKhrJiOTNUqKFsIhCHwXipK3NtQxz7vZ6Tug+i8H2tg7ZQVP6/YMtbELVznpX8F6L4eZ6F/EVR/TovkXksyl94SRZE/UyCLiG8eK7aiCGqOYf5IJRvzVl3hPT6GWWbLOslp00K7egpRQGPX3hiSIgHTqSYMgBahLoBmOeaAdJcv1AVc8UVnULePs428pLt2Xe2r6tsyz7b5g7bNp/PtrnKtvyd7esLtqdjbMMdbG1VMddBBVJcP4F5rmmgmaseQIopAwBDTAMnCgMev/AEJnhGcGrpBsta8Wm4xXIVZ5r3HG/MWaiNGMIanLeToR3nn9M3hYTmobbnXhLkLep6lYfkufc1Pc2DTTOjJp4ysNwa6PjXDfs1bzW8qYZLc23dlX/PwHHJqO9ia6QYCgsG0rZS/QXQ2jDz+yDJwa/peuiuaB9+/m3J39nxl749G26rgHVWUDgg+AIAAPAOAJ0BKkAAQAA+mUSYSKWkIiEsGqzIsBMJYgC5VFrEDw68ztrOeI9AG89/xTfdv89W6a8zfs72PDcAkCltanp0+LzMEPAz3zn1gSkW71TStqUz/tsgX05b/80ehAQr/g9uUI8hw7Og5gaoBaxzRgdFcJ4l97ZttzjG36EW9RUAAP7i9uoVPW/4RCsmwrONNf1UTrZyT08bHUyGn0A/M754uV/6cCzmPQPE3wywzCR29GJWI7P3f8Op5iHPYvlKH0xXfnz8CG06th5qRgubV8/jwdswCElKaRTQwv7VGUbgR9+gKSzQHge2/e8DPtmrGLUE+L7HPwC0eLYVBm89n1+kheqiU86XdkLQSvT5O7yyYx+s1ZW5flzX0hgcKu6LR5YINBKdvH5ZXV7kwJJE6qou0HyFK/AnnJh9O460j3vykqXZvWuQI4vXoRRwdXEZeIIQ7mtDJR24kDm43w89xntLiNPm/++HPsedmCHnkUzJjTbRxjeWthd+CxpAxNBmSX5qYGDnDuAmZZxOcH+HDC5fuaF50AdhP8KVQ7oNXr0A0ewpGO8Bi+vpttgAhU2lXYd4UGpzt7U7uVGEs15O0ItX38xuKQh/pVv1+ztW6uDFn62M1mosScY/mJmTv4kV1ALVYk+RR3fR0mxiHrEMIh8mntE8HN9GmXzl++5C/AZhCq6AVC5vN4VZmq5oCsf2y4dblB0Cjs63XYn628jfnLG/JHArr2jX6vEcDhPCUNvHkFvSTobqGPyYhqDZI3OcUA6LRhU8BBf5VQyRzpMenjmXb40quQBg6cabcckW3+Ia+NErGvcuHTYU2hcJEbOcuyrL0483AITpGx/ozIlseCk+SIOJ0aCWKreumm3v1lSSQXW/dSBGgtQysPpmG36+Fd9MmDkAK52dNFrskHNgmzo2ma6pyXKK+6DzRGXzE+eGTsCzqVHkBz1gKEo9Q37BNbia63rp7kDyJWeYdByxO6nLErPL3Orbl+7NVzVW9z2770+CFqWyAAA=",xe="data:image/webp;base64,UklGRqYDAABXRUJQVlA4WAoAAAAQAAAAPwAAPwAAQUxQSJ4BAAABkFvbtmo3+z5BxJhTAdwHS2a2U2HIylgVmKkAWwWYGT9kghAf2JHwHfG79+wGImICYL2qc+zlj+VgdzdY/vFitKMKulvmU7EkjFNzzWqKhrJiOTNUqKFsIhCHwXipK3NtQxz7vZ6Tug+i8H2tg7ZQVP6/YMtbELVznpX8F6L4eZ6F/EVR/TovkXksyl94SRZE/UyCLiG8eK7aiCGqOYf5IJRvzVl3hPT6GWWbLOslp00K7egpRQGPX3hiSIgHTqSYMgBahLoBmOeaAdJcv1AVc8UVnULePs428pLt2Xe2r6tsyz7b5g7bNp/PtrnKtvyd7esLtqdjbMMdbG1VMddBBVJcP4F5rmmgmaseQIopAwBDTAMnCgMev/AEJnhGcGrpBsta8Wm4xXIVZ5r3HG/MWaiNGMIanLeToR3nn9M3hYTmobbnXhLkLep6lYfkufc1Pc2DTTOjJp4ysNwa6PjXDfs1bzW8qYZLc23dlX/PwHHJqO9ia6QYCgsG0rZS/QXQ2jDz+yDJwa/peuiuaB9+/m3J39nxl749G26rgHVWUDgg4gEAADALAJ0BKkAAQAA+yVqlTielIyImFV2I8BkJZAE4ASyifXiPw9urz3Xob/2m+gKAEdduIFXbefPjSVeM4Vkpjtj/lOAw2UUbsZoSEYK1G8hWgGE2Sp6834LcUySpPnpM3zYAAP2zxXw9/g6RSbGDdMfOanFulj4XWkxGl8atuX14pJIcw7hQ9U+Cn6l2ZNae2Gdvbp7yMFdkWf4nVwd8pR9kajmJ7keB3QV/iIHugVf+JGFfB0sE3ln9dga+1jEAY1IXBgyZndMmS7P3yNW5gFG0t+qIby6gKd0be/jiCufDhAbsMkMJHj2YHNtOf8wSX4sPAFzkBFb+Votg/ihTD6Tzvbfh07LYaoPlMPwPWyoN+C1MmNPW+YdgfP1yQQVWvPb84rvtWme5qY/7ev3ghJQfA7tWOICmibdPVOWyjqaOW1qg/sDoE2py/+2pmsrsk0N6DtQwGUlt3UoXfASs4ZXNmDjw+GyqlR2oQvQv+6bWWmWrjPrfVuPRGc9Q/6gSOlXUL4xC9gVNfesdp8hI8vnZ3FSB9UdiSodroRkscRH/OMOVm5B+dtl7mlWi/iK5Mck2lcY3+a9q/8AlS7KZ9omTndUhMwkxc2wiwP90e4b0KIHosxHBWNT1tiVEO4aaAAAA",pe="data:image/webp;base64,UklGRnwDAABXRUJQVlA4WAoAAAAQAAAAPwAAPwAAQUxQSJ4BAAABkFvbtmo3+z5BxJhTAdwHS2a2U2HIylgVmKkAWwWYGT9kghAf2JHwHfG79+wGImICYL2qc+zlj+VgdzdY/vFitKMKulvmU7EkjFNzzWqKhrJiOTNUqKFsIhCHwXipK3NtQxz7vZ6Tug+i8H2tg7ZQVP6/YMtbELVznpX8F6L4eZ6F/EVR/TovkXksyl94SRZE/UyCLiG8eK7aiCGqOYf5IJRvzVl3hPT6GWWbLOslp00K7egpRQGPX3hiSIgHTqSYMgBahLoBmOeaAdJcv1AVc8UVnULePs428pLt2Xe2r6tsyz7b5g7bNp/PtrnKtvyd7esLtqdjbMMdbG1VMddBBVJcP4F5rmmgmaseQIopAwBDTAMnCgMev/AEJnhGcGrpBsta8Wm4xXIVZ5r3HG/MWaiNGMIanLeToR3nn9M3hYTmobbnXhLkLep6lYfkufc1Pc2DTTOjJp4ysNwa6PjXDfs1bzW8qYZLc23dlX/PwHHJqO9ia6QYCgsG0rZS/QXQ2jDz+yDJwa/peuiuaB9+/m3J39nxl749G26rgHVWUDgguAEAAHAKAJ0BKkAAQAA+rUyaSr+koqG3+qgD8BWJQGSAzwB+AfwD7AKecwXS22XoA27PPYngBjRc3OKhBqkqz7NHCE8viOQMk2BOFn57xtiV4sIK9ArlfFgIy9wCZ5iAAP2tz1qtTM1TbPKv3ssqtqjcwwW5r84XcJJa8o6h18ddhV9kch7FZjGiTQ78qmfLWT3fKLWgGBes1TMiKI3sMk39rIig3kPiD6xJgjVJ3tYSCSdeKRDnrhYxntWuQ1MSnW1TCtrP8I8A4Uq6LIA7VGrUFQ6XCj12t26LnyodmztIW1wrCXumDkgt0j4ytKU7eVGO+m9fGQ0worL6rCGXA4mQoKpw7JnfextjkA9v1RwaX51UTSbDyhSF1iwPnVFJQEVnYrh/CmDuDfHvKs7JcaerW55Apzu3onIBoI8YNqXM9aQ5r290vBrIwVxpIdS/zBsgG0mlTDyJxkd8E7xrAZ41dYjlDFTSnYb6BsxU8D00ajOnHw6GTzDUTzhNmPu2SM9Jc2s32FZp+y5RHHz6PvhnHOl/sYj6Lv7u4XsAWyxkk4u2wqp4pbBHacGxBZk+lz+pouvhEc0KsIAA";function fe({modalBooking:m,closeModal:v}){const d=a.useId(),t=m.booking,h=te(t.fecha),[l,u]=a.useState(t.estado),{auth:o}=G();async function n(g){o.data.rol!=="Guest"&&g.target.value!=t.estado&&(await le(t.id,{...t,estado:g.target.value})).status==200&&(u(g.target.value),t.estado=g.target.value)}return e.jsxs("div",{className:"verreserva__modal dashboard__modal",children:[e.jsxs("div",{className:"dashboard__modal-top verreserva__modal-top",children:[e.jsx("p",{className:"verreserva__top-id dashboard__modal-top-id",children:`Reserva nÂº ${t.id}`}),e.jsx("div",{className:"verreserva__top-cruz dashboard__top-cruz",children:e.jsx("img",{src:D,alt:"Cerrar",onClick:v})})]}),e.jsx("div",{className:"verreserva__estado dashboard__estado-modal",children:e.jsxs("select",{name:d,id:d,defaultValue:l,onChange:n,disabled:o.data.rol=="Guest",children:[e.jsx("option",{value:"A Confirmar",children:"A Confirmar"}),e.jsx("option",{value:"Reservado",children:"Reservado"}),e.jsx("option",{value:"Cancelado",children:"Cancelado"})]})}),e.jsxs("div",{className:"verreserva__info",children:[e.jsx("div",{className:"verreserva__dato-name dashboard__dato",children:e.jsx("div",{style:{fontFamily:"Amiri"},children:t.cliente_reserva})}),e.jsxs("div",{className:"verreserva__group",children:[e.jsxs("div",{className:"dashboard__dato verreserva__dato",children:[e.jsx("img",{src:q,alt:"Cantidad de personas",className:"dashboard-icon"}),e.jsx("div",{children:t.cantidad_personas})]}),e.jsxs("div",{className:"verreserva__dato dashboard__dato ",children:[e.jsx("img",{src:ce,alt:"Lugar a reservar",className:"dashboard-icon"}),e.jsx("div",{children:t.lugar})]})]}),e.jsxs("div",{className:"verreserva__group",children:[e.jsxs("div",{className:"verreserva__dato dashboard__dato",children:[e.jsx("img",{src:T,alt:"Fecha",className:"dashboard-icon"}),e.jsx("div",{children:h})]}),e.jsxs("div",{className:"verreserva__dato dashboard__dato ",children:[e.jsx("img",{src:T,alt:"Hora",className:"dashboard-icon"}),e.jsx("div",{children:t.hora})]})]})]})]})}function je(){const v=new Date().toISOString().split("T")[0],d=new Date;d.setDate(d.getDate()+1);const t=d.toISOString().split("T")[0],[h,l]=a.useState([]),[u,o]=a.useState(v),[n,g]=a.useState(window.innerWidth>768),[f,S]=a.useState(!1),[x,w]=a.useState(!0),[N,C]=a.useState({isSubmitted:!1,booking:{}}),[j,i]=a.useState({isSubmitted:!1,isGood:!1,msg:""});a.useEffect(()=>{async function r(){try{const I=await W({date:u});w(!1),l(I.data.data)}catch(I){w(!1),i({isSubmitted:!0,isGood:!1,msg:I.message})}}r()},[u]),a.useEffect(()=>{const r=()=>{g(window.innerWidth>768)};return window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r)}},[]);function A(r){return f?r.filter(I=>I.estado!="Reservado"):r}async function B(){const r=await W({date:u});r.status==200&&l(r.data.data)}function y(r){o(r.target.value)}function p(r){C({isSubmitted:!0,booking:r}),document.body.classList.add("disable-scroll")}function P(){C({isSubmitted:!1,booking:{}}),document.body.classList.remove("disable-scroll"),B()}function k(){i({isSubmitted:!1,isGood:!1,msg:""})}return e.jsxs("div",{className:"verreservas veritems",children:[e.jsxs("div",{className:"verreservas__fechas veritems__fechas",children:[e.jsx("div",{className:"verreservas__fecha-ayer button veritems__fechas-button",onClick:()=>o(v),children:"Hoy"}),e.jsx("input",{className:"verreservas__fecha-input",type:"date",onChange:y,value:u}),e.jsx("div",{className:"verreservas__fecha-hoy button veritems__fechas-button",onClick:()=>o(t),children:"MaÃ±ana"})]}),e.jsx("div",{className:"verreservas__filters",children:e.jsxs("div",{className:"misreservas__filter",onClick:()=>S(!f),children:[e.jsx("img",{src:K,alt:"Icono de oculto"}),e.jsx("p",{children:f?"Mostrar reservados":"Ocultar reservados"})]})}),e.jsxs("div",{className:"verreservas__reservas veritems__lista",children:[e.jsxs("div",{className:"verreservas__header veritems__header",style:{gridTemplateColumns:"repeat(5, 1fr)"},children:[e.jsx("div",{className:"veritems__header-column  verreservas__header-column",children:"Hora"}),e.jsx("div",{className:"veritems__header-column  verreservas__header-column",children:"Cant."}),e.jsx("div",{className:"veritems__header-column  verreservas__header-column",children:"Cliente"}),e.jsx("div",{className:"veritems__header-column  verreservas__header-column",children:"Lugar"}),e.jsx("div",{className:"veritems__header-column  verreservas__header-column",children:"Estado"})]}),e.jsx("div",{className:"verreservas__body veritems__body",children:x?e.jsx(M,{size:"small",color:"blue"}):A(h).length<=0?e.jsx(L,{msg:"No hay reservas el dÃ­a de hoy",msgButton:":("}):A(h).map(r=>e.jsxs("div",{className:"veritems__row verreservas__row",onClick:()=>p(r),style:{gridTemplateColumns:"repeat(5, 1fr)"},children:[e.jsx("div",{className:"veritems__dato verreservas__dato",children:r.hora}),e.jsx("div",{className:"veritems__dato verreservas__dato",children:r.cantidad_personas}),e.jsx("div",{className:"veritems__dato verreservas__dato",children:r.cliente_reserva}),e.jsx("div",{className:"veritems__dato verreservas__dato",children:r.lugar}),e.jsxs("div",{className:"veritems__dato verreservas__dato",children:[e.jsx("img",{src:F(r.estado),alt:r.estado,className:"status-img reserva-status-img"}),n&&e.jsx("p",{children:r.estado})]})]},r.id))})]}),N.isSubmitted&&e.jsx(H,{comp:"verreservas",children:e.jsx(fe,{modalBooking:N,closeModal:P})}),e.jsx(Y,{isSubmitted:j.isSubmitted,isGoodStatus:j.isGood,msg:j.msg,handleSubmit:k})]})}const be="data:image/webp;base64,UklGRlwBAABXRUJQVlA4WAoAAAAQAAAAHwAAHwAAQUxQSNsAAAABgFvblurmFiA0M7PrwAKsFlSBmUMXoBZMqeVcPZiZKaIp4Ahm5ovjiGDktm0k2eo6c5v5hOpfwomlEpIIa+iJkvI4eAJkjopMBkgbDOetKiqt5xj+Yeqdq/ZiaDnlew6gZ7TQ4pzssZDVopSD3WJ0cRqsB7uX7UH68NRvIErBWYvlGaQUzA6YfC0N7Hhx3LAurdsF2PVhuy6Nf3F3x9e4tA47HlzzfYPXvHZdPErxZDImuXUovKEiUnghj2GvsC4q67DHfxr4OSoyP8Dx0GOp37VCJf0X8yHVvQgAVlA4IFoAAABQAwCdASogACAAP0mcxFuwKqckKAgCACkJbABWPQ/4CuL4zAD+wM/o9CW13HK7X2kOr4eeI7HNEnyfIVnGBRrYnDvyr0jBMBRKQSMk3yMWG9ELH20PcGRrwAA=",we="data:image/webp;base64,UklGRowBAABXRUJQVlA4WAoAAAAQAAAAHwAAHwAAQUxQSPkAAAABgGPb2rHn6f7Ytm0nZVLaxgB+lKk8BVuVbfZOZdu28zTv937PN4OIQNC2bdxcB/CjAADI33kecwcJK0BEfAyVdKRViII9BNPEIkpsFrm5UtxyYTvFDd8KxRJfM0Ub144lRRLHk0oGFBqvQrFAXLnAMVBZf7HOgLwaweVDZnDJaqFfWay/CHoDbEdGZHp7bAvaQi69W31uvPw/2BZNWTrnot8s84/tNJJRjCiaAtn9d4aAuvwTCZXx3v8DEWmR9uDOS/lHapz/Ph8U18BdwD7BHPCnPyzqPxrElnotcpQgPqPGH96RA2kO9YJn+ZMDdbrZnauvD1NRAAAAVlA4IGwAAABwBACdASogACAAPq1Gm0smJCKht+gAwBWJbAA+QG2A5//z/747BqC94exgcAD+3UR/+6pOnuZzUcY+/lNnSRpGON/e5aKRX+Ju4OzmzAZ1fRwSBzHePw6NyKKV/w7kqB9OYsMx6x91BfDRAAA=";function Ne({modalDuda:m,closeModal:v}){const d=m.duda,t=a.useId(),[h,l]=a.useState(d.estado),{auth:u}=G();async function o(n){if(u.data.rol!=="Guest"&&n.target.value!=d.estado)try{await me({...d,estado:n.target.value}),l(n.target.value),d.estado=n.target.value}catch(g){console.log(g)}}return e.jsxs("div",{className:"dashboard__modal verduda__modal",children:[e.jsxs("div",{className:"verpedido__modal-top dashboard__modal-top",children:[e.jsx("p",{className:"verpedido__top-id dashboard__modal-top-id ",children:`Duda nÂº ${d.id}`}),e.jsx("div",{className:"verpedido__top-cruz dashboard__top-cruz",children:e.jsx("img",{src:D,alt:"Cerrar",onClick:v})})]}),e.jsx("div",{className:"verpedido__estado dashboard__estado-modal",children:e.jsxs("select",{name:t,id:t,defaultValue:h,className:"input",onChange:o,disabled:u.data.rol=="Guest",children:[e.jsx("option",{value:"No Leido",children:"No Leido"}),e.jsx("option",{value:"Leido",children:"Leido"}),e.jsx("option",{value:"Respondido",children:"Respondido"})]})}),e.jsxs("div",{className:"verduda__info-wrapper",children:[e.jsxs("div",{className:"verduda__contact",children:[e.jsxs("div",{className:"dashboard__dato verduda__dato",children:[e.jsx("img",{src:q,alt:"Nombre Completo",className:"dashboard-icon"}),e.jsx("div",{children:d.nombrecompleto})]}),e.jsxs("div",{className:"dashboard__dato verduda__dato",children:[e.jsx("img",{src:we,alt:"Telefono",className:"dashboard-icon"}),e.jsx("div",{children:"+"+d.telefono})]}),e.jsxs("div",{className:"dashboard__dato verduda__dato",children:[e.jsx("img",{src:be,alt:"Mail",className:"dashboard-icon"}),e.jsx("div",{children:d.mail})]})]}),e.jsxs("div",{className:"verduda__duda-wrapper",children:[e.jsx("label",{children:"Duda"}),e.jsx("div",{children:e.jsx("p",{children:d.duda})})]})]})]})}function Se(){const[m,v]=a.useState([]),[d,t]=a.useState(window.innerWidth>768),[h,l]=a.useState(!0),[u,o]=a.useState({isSubmitted:!1,reserva:{}}),[n,g]=a.useState(!0),[f,S]=a.useState({isSubmitted:!1,isGood:!1,msg:""});a.useEffect(()=>{async function i(){try{const A=await R();A.length>0&&(g(!1),v(A))}catch(A){g(!1),v([]),S({isSubmitted:!0,isGood:!1,msg:A.message})}}i()},[]),a.useEffect(()=>{const i=()=>{t(window.innerWidth>768)};return window.addEventListener("resize",i),()=>{window.removeEventListener("resize",i)}},[]);function x(i){return h?i.filter(A=>A.estado!="Respondido"):i}async function w(){try{const i=await R();i.length>0&&v(i)}catch(i){console.log(i),v([]),S({isSubmitted:!0,isGood:!1,msg:"Error en la conexion!"})}}function N(i){o({isSubmitted:!0,duda:i}),document.body.classList.add("disable-scroll")}function C(){o({isSubmitted:!1,duda:{}}),document.body.classList.remove("disable-scroll"),w()}function j(){S({isSubmitted:!1,isGood:!1,msg:""})}return e.jsxs("div",{className:"verdudas veritems",children:[e.jsx("div",{className:"verdudas__filters verreservas__filters",children:e.jsxs("div",{className:"misreservas__filter",onClick:()=>l(!h),children:[e.jsx("img",{src:K,alt:"Icono de oculto"}),e.jsx("p",{children:h?"Ocultar respondidos":"Mostrar respondidos"})]})}),e.jsxs("div",{className:"verdudas__reservas veritems__lista",children:[e.jsxs("div",{className:"verdudas__header veritems__header",style:{gridTemplateColumns:"repeat(2, 1fr)"},children:[e.jsx("div",{className:"veritems__header-column  verdudas__header-column",children:"Duda"}),e.jsx("div",{className:"veritems__header-column  verdudas__header-column",children:"Estado"})]}),e.jsx("div",{className:"verdudas__body veritems__body",children:n?e.jsx(M,{size:"small",color:"blue"}):x(m).length<=0?e.jsx(L,{msg:"No hay dudas el dÃ­a de hoy",msgButton:":("}):x(m).map(i=>e.jsxs("div",{className:"veritems__row verdudas__row",onClick:()=>N(i),style:{gridTemplateColumns:"repeat(2, 1fr)"},children:[e.jsx("div",{className:"veritems__dato verdudas__dato",children:e.jsx("p",{children:i.duda})}),e.jsxs("div",{className:"veritems__dato verdudas__dato",children:[e.jsx("img",{src:F(i.estado),alt:i.estado,className:"status-img reserva-status-img"}),d&&e.jsx("p",{children:i.estado})]})]},i.id))})]}),u.isSubmitted&&e.jsx(H,{comp:"verreservas",children:e.jsx(Ne,{modalDuda:u,closeModal:C})}),e.jsx(Y,{isSubmitted:f.isSubmitted,isGoodStatus:f.isGood,msg:f.msg,handleSubmit:j})]})}const ye="/assets/magnifying-glass-solid-c43e02d5.svg";function Ce({modalCarta:m,closeModal:v,categorias:d,action:t,handleMsgStatus:h}){var A,B,y;const l=m.item,u=a.useId(),o=a.useId(),n=a.useId(),g=a.useId(),f=a.useId(),{auth:S}=G(),{handleSubmit:x,register:w,formState:N}=oe({mode:"onBlur"}),{isDirty:C,errors:j}=N;async function i(p){const{categoria:P}=p,k=d.filter(r=>r.nombre===P)[0].id;if(S.data.rol!=="Guest"&&C)if(t=="U"){const r=await ue(l.id,{...p,precioChico:parseInt(p.precioChico.substring(1)),precioGrande:parseInt(p.precioGrande.substring(1)),id_categoria:k});h(r,"Producto modificado correctamente","Hubo un error al modificar tu producto")}else{const r=await ve({...p,precioChico:parseInt(p.precioChico.substring(1)),precioGrande:parseInt(p.precioGrande.substring(1)),id_categoria:k});h(r,"Producto agregado correctamente","Hubo un error al crear tu producto")}v()}return e.jsxs("div",{className:"dashboard__modal vercarta__modal",children:[e.jsxs("div",{className:"dashboard__modal-top vercarta__modal-top",children:[e.jsx("p",{className:"vercarta__top-id   dashboard__modal-top-id",children:`${t=="U"?`Producto nÂº ${l.id}}`:"New product"}`}),e.jsx("div",{className:"vercarta__top-cruz dashboard__top-cruz",children:e.jsx("img",{src:D,alt:"Cerrar",onClick:v})})]}),e.jsxs("form",{className:"vercarta__modal-body",onSubmit:x(i),children:[e.jsxs("div",{className:"vercarta__modal-info",children:[e.jsxs("div",{className:"vercarta__modal-row",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:u,children:"Nombre"}),e.jsx("input",{id:u,type:"text",defaultValue:t=="U"?l.nombre:"",className:"vercarta__input",...w("nombre",{required:!0,maxLength:30})})]}),((A=j.nombre)==null?void 0:A.type)==="required"&&e.jsx("p",{role:"alert",className:"form-error modal-item-error",children:"El nombre es necesario"})]}),e.jsx("div",{className:"vercarta__modal-row",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:o,children:"Descripcion"}),e.jsx("textarea",{name:o,id:o,cols:"20",rows:"6",...w("descripcion"),defaultValue:t=="U"?l.descripcion:""})]})}),e.jsx("div",{className:"vercarta__modal-row",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:n,children:"Categoria"}),e.jsx("select",{name:n,id:n,defaultValue:t=="U"?d[l.id_categoria-1].nombre:d[0].nombre,...w("categoria"),children:d&&d.map(p=>e.jsx("option",{children:p.nombre},p.id))})]})}),e.jsxs("div",{className:"vercarta__modal-row",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:g,children:"Precio chico"}),e.jsx("input",{id:g,type:"text",defaultValue:`$${t=="U"&&l.preciochico||0}`,...w("precioChico",{pattern:de})})]}),((B=j.precioChico)==null?void 0:B.type)==="pattern"&&e.jsx("p",{role:"alert",className:"form-error modal-item-error",children:"Debe comenzar con $ y uno o mas digitos"})]}),e.jsxs("div",{className:"vercarta__modal-row",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:f,children:"Precio grande"}),e.jsx("input",{id:f,type:"text",defaultValue:`$${t=="U"&&l.preciogrande||0}`,...w("precioGrande")})]}),((y=j.precioGrande)==null?void 0:y.type)==="pattern"&&e.jsx("p",{role:"alert",className:"form-error modal-item-error",children:"Debe comenzar con $ y uno o mas digitos"})]})]}),e.jsx("button",{disabled:S.data.rol=="Guest",className:"button",type:"submit",children:t=="U"?"Grabar":"Agregar"})]})]})}function Ie(){const[m,v]=a.useState([]),[d,t]=a.useState(""),[h,l]=a.useState({msg:"",status:!1}),[u,o]=a.useState([]),[n,g]=a.useState([]),[f,S]=a.useState([]),[x,w]=a.useState(1),[N,C]=a.useState(0),[j,i]=a.useState([]),[A,B]=a.useState(null),[y,p]=a.useState(null),[P,k]=a.useState(window.innerWidth>425),[r,I]=a.useState({isSubmitted:!1,item:{}}),[Z,E]=a.useState(!0),V=10,{auth:U}=G();a.useEffect(()=>{const s=()=>{k(window.innerWidth>425)};return window.addEventListener("resize",s),()=>{window.removeEventListener("resize",s)}},[]),a.useEffect(()=>{async function s(){try{const b=await X();v(b),E(!1)}catch(b){console.log(b),E(!1)}}async function c(){try{const b=await O();g(b)}catch(b){console.log(b)}}async function _(){try{const b=await O();S(b)}catch(b){console.log(b)}}s(),c(),_()},[]),a.useEffect(()=>{const s=[];for(let c=1;c<=Math.ceil(re(m).length/V);c++)s.push(c);i(s)},[m,A,y]);async function $(){const s=await X();v(s),o(s)}async function ee(s){if(U.data.rol!=="Guest"){const c=await he(s);v(m.filter(_=>_.id!=s)),J(c,"Eliminado correctamente","Hubo un error al eliminar tu producto")}}function J(s,c,_){s.status>=200&&s.status<300?($(),l({msg:c,status:!0}),document.querySelector(".vercarta-item-status").classList.add("good")):(l({msg:_,status:!1}),document.querySelector(".vercarta-item-status").classList.add("bad")),setTimeout(()=>{l({msg:"",status:!1}),document.querySelector(".vercarta-item-status").classList.remove("good")},2e3)}function Q(s,c){I({isSubmitted:!0,item:s}),t(c),document.body.classList.add("disable-scroll")}function se(){I({isSubmitted:!1,item:{}}),document.body.classList.remove("disable-scroll")}function z(s){s!==x&&(window.scrollTo(0,300),w(s),C((s-1)*V))}function ae(s){if(A==s.id){z(1),B(null);return}B(s.id),z(1)}function re(s){if(y&&A){const c=s.filter(_=>_.id_categoria==A).filter(_=>_.nombre.toLowerCase().includes(y.toLowerCase()));return o(c),c}if(y){const c=s.filter(_=>_.nombre.toLowerCase().includes(y.toLowerCase()));return o(c),c}if(A!=null){const c=s.filter(_=>_.id_categoria==A).sort((_,b)=>_.nombre.localeCompare(b.nombre));return o(c),c}return o(s),s.sort((c,_)=>c.nombre.localeCompare(_.nombre))}return e.jsxs("div",{className:"vercarta",children:[e.jsxs("div",{className:"vercarta__search-wrapper",children:[e.jsxs("div",{className:"vercarta__search",children:[e.jsx("input",{type:"text",onChange:s=>p(s.target.value)}),e.jsx("img",{src:ye,alt:"Buscador",className:"dashboard-icon"})]}),e.jsx("button",{className:"button vercarta__search-button",onClick:()=>Q({},"A"),children:"Agregar"})]}),e.jsx("div",{className:"vercarta__filters",children:n.length>0&&n.map(s=>e.jsx("div",{className:`vercarta__filter ${A==s.id?"active":""}`,onClick:()=>ae(s),children:s.nombre},s.id))}),e.jsx("p",{className:`vercarta-item-status ${h.status?"good":"bad"}`,children:h.msg}),e.jsxs("div",{className:"vercarta__carta veritems__lista",children:[e.jsxs("div",{className:"vercarta__header veritems__header",style:{gridTemplateColumns:"repeat(7,1fr)"},children:[e.jsx("div",{className:"veritems__header-column  vercarta__header-column",children:e.jsx("p",{children:P?"POSICION":"POS."})}),e.jsx("div",{className:"veritems__header-column  vercarta__header-column",children:e.jsx("p",{children:"NOMBRE"})}),e.jsx("div",{className:"veritems__header-column  vercarta__header-column",children:e.jsx("p",{children:"ACCIONES"})})]}),e.jsx("div",{className:"vercarta__body veritems__body",children:Z?e.jsx(M,{size:"small",color:"blue"}):u.length<=0?e.jsx(L,{msg:"No hay items",msgButton:":("}):u.slice(N,V+N).map((s,c)=>e.jsxs("div",{className:"veritems__row vercarta__row",style:{gridTemplateColumns:"repeat(7, 1fr)"},children:[e.jsx("div",{className:"veritems__dato vercarta__dato",children:e.jsx("p",{children:N===0?c+1:c+1+N})}),e.jsx("div",{className:"veritems__dato vercarta__dato vercarta__dato-nombre",children:e.jsx("p",{children:s.nombre.toUpperCase()})}),e.jsxs("div",{className:"veritems__dato vercarta__dato",children:[e.jsx("button",{children:e.jsx("img",{src:Ae,alt:"Modificar item",className:"dashboard-icon vercarta__acciones",onClick:()=>Q(s,"U")})}),e.jsx("button",{disabled:U.data.rol==="Guest",onClick:()=>ee(s.id),children:e.jsx("img",{src:D,alt:"Eliminar item",className:"dashboard-icon vercarta__acciones"})})]})]},s.id))})]}),j.length>1&&e.jsx("div",{className:"vercarta__paginacion-wrapper",children:e.jsxs("div",{className:"vercarta__paginacion",children:[e.jsx("div",{className:"vercarta__pagina--button",children:e.jsx("p",{onClick:()=>z(x-1==0?x:x-1),children:"Previo"})}),u&&j.map(s=>e.jsx("div",{className:"vercarta__pagina",onClick:()=>z(s),children:e.jsx("p",{className:`${s==x?"active":""}`,children:s})},s)),e.jsx("div",{className:"vercarta__pagina--button",children:e.jsx("p",{onClick:()=>z(x+1>j.length?x:x+1),children:"Siguiente"})})]})}),r.isSubmitted&&e.jsx(H,{comp:"verpedidos",children:e.jsx(Ce,{modalCarta:r,closeModal:se,categorias:f,action:d,handleMsgStatus:J})})]})}function Je(){const[m,v]=a.useState(0),[d,t]=a.useState(window.innerWidth>768),h=["Ver Pedidos","Ver Reservas","Ver Dudas","Carta"],l=[_e,ge,xe,pe];a.useEffect(()=>{const o=()=>{t(window.innerWidth>768)};return window.addEventListener("resize",o),()=>{window.removeEventListener("resize",o)}},[]);function u(o){m!==o&&v(o)}return e.jsxs("div",{className:"dashboard",children:[e.jsx("div",{className:"dashboard__nav",children:e.jsx("div",{className:"dashboard__links-wrapper",children:h.map((o,n)=>e.jsxs("div",{onClick:()=>u(n),children:[e.jsx("img",{src:l[n],alt:o,className:`dashboard__link-icon ${m==n?"active":""}`}),d&&e.jsx("p",{children:h[n]})]},n))})}),e.jsxs("div",{className:"dashboard__content",children:[e.jsx(ie,{goTo:"home",pathPrev:"Dashboard",pathActual:h[m]}),m===0&&e.jsx(ne,{}),m===1&&e.jsx(je,{}),m===2&&e.jsx(Se,{}),m===3&&e.jsx(Ie,{})]})]})}export{Je as default};
